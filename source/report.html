<!DOCTYPE html><html><head>
      <title>03_Cert&#x5B9E;&#x9A8C;&#x62A5;&#x544A;&#x6A21;&#x677F;</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\32332\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.6.8\node_modules\@shd101wyy\mume\dependencies\katex\katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p,html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div{display:inline}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  300px/2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <center><strong><font face="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="5">openEuler &#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;</font></strong></center>
<p><strong></strong></p><center><strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;">&#x59D3;&#x540D;&#xFF1A;&#x9EBB;&#x5BB6;&#x4E50; &#x2003;&#x2003;&#x2003;&#x2003;&#x5B66;&#x53F7;&#xFF1A;521021910559 </font></strong><p></p>
</center>
<strong>

<center><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="5">&#x76EE;&#x5F55;</font></center>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<p>&#x2003;<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">Chapter 1 &#x8FDB;&#x7A0B;&#x57FA;&#x672C;&#x6982;&#x5FF5;</font></p>
<p>&#x2003;&#x2003;&#x2003;1&#x3001;&#x4EC0;&#x4E48;&#x662F;&#x8FDB;&#x7A0B;<br>
&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;1.1 &#x8FDB;&#x7A0B;&#x7684;&#x5B9A;&#x4E49;<br>
&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;1.2 &#x8FDB;&#x7A0B;&#x4E0E;&#x7EBF;&#x7A0B;<br>
&#x2003;&#x2003;&#x2003;2&#x3001;&#x8FDB;&#x7A0B;&#x4ECE;&#x521B;&#x5EFA;&#x5230;&#x7EC8;&#x6B62;<br>
&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;2.1 &#x5173;&#x7CFB;&#x56FE;<br>
&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;2.2 &#x8FDB;&#x7A0B;&#x7684;&#x72B6;&#x6001;<br>
&#x2003;&#x2003;&#x2003;3&#x3001;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;<br>
&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;3.1 &#x4EC0;&#x4E48;&#x662F;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;<br>
&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;3.2 &#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;</p>
<p>&#x2003;<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">Chapter 2 struct task_struct&#xFF08;&#x8BE5;&#x90E8;&#x5206;&#x53EF;&#x4EE5;&#x5148;&#x8C03;&#x8FC7;&#xFF09;</font></p>
<p>&#x2003;&#x2003;&#x2003;1&#x3001;&#x7ED3;&#x6784;&#x4F53;&#x603B;&#x4F53;&#x4ECB;&#x7ECD;<br>
&#x2003;&#x2003;&#x2003;1.1 &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4ECB;&#x7ECD; struct task_struct<br>
&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;1.2 struct task_struct &#x91CD;&#x8981;&#x6210;&#x5458;&#x7EC4;<br>
&#x2003;&#x2003;&#x2003;3&#x3001;&#x8FDB;&#x7A0B;&#x4E0E;&#x5185;&#x6838;&#x6808;<br>
&#x2003;&#x2003;&#x2003;4&#x3001;&#x8FDB;&#x7A0B;&#x7684;&#x4EB2;&#x5C5E;&#x5173;&#x7CFB;<br>
&#x2003;&#x2003;&#x2003;5&#x3001;&#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x8BC6;&#x7B26;PID<br>
&#x2003;&#x2003;&#x2003;6&#x3001;&#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x8BB0;flags<br>
&#x2003;&#x2003;&#x2003;7&#x3001;&#x8FDB;&#x7A0B;&#x7684;ptrace<br>
&#x2003;&#x2003;&#x2003;8&#x3001;&#x8FDB;&#x7A0B;&#x7684;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;<br>
&#x2003;&#x2003;&#x2003;9&#x3001;&#x8FDB;&#x7A0B;&#x7684;&#x8C03;&#x5EA6;<br>
&#x2003;&#x2003;&#x2003;10&#x3001;struct task_struct &#x603B;&#x7ED3;</p>
<p>&#x2003;<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">Chapter 3 &#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;</font></p>
<p>&#x2003;&#x2003;&#x2003;1&#x3001;&#x8FDB;&#x7A0B;&#x7684;&#x8C03;&#x5EA6;&#x6D41;&#x7A0B;<br>
&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;1.1 &#x518D;&#x6B21;&#x63D0;&#x53CA;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;<br>
&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;1.2 &#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7684;&#x6D41;&#x7A0B;<br>
&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;1.3 &#x4E00;&#x4E9B;&#x8865;&#x5145;<br>
&#x2003;&#x2003;&#x2003;2&#x3001;struct rq<br>
&#x2003;&#x2003;&#x2003;3&#x3001;schedule<br>
&#x2003;&#x2003;&#x2003;4&#x3001;__schedule<br>
&#x2003;&#x2003;&#x2003;5&#x3001;Chapter3 &#x603B;&#x7ED3;</p>
<p>&#x2003;<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">Chapter 4 CFS&#xFF08;&#x5B8C;&#x5168;&#x516C;&#x5E73;&#x8C03;&#x5EA6;&#xFF09;&#x4ECB;&#x7ECD;</font></p>
<p>&#x2003;&#x2003;&#x2003;1.1 CFS&#x57FA;&#x672C;&#x539F;&#x7406;&#x6982;&#x8FF0;<br>
&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;1.2 CFS&#x76F8;&#x5173;&#x6982;&#x5FF5;<br>
&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;1.3 CFS&#x7B97;&#x6CD5;&#x8BBE;&#x8BA1;&#x6838;&#x5FC3;<br>
&#x2003;&#x2003;&#x2003;2&#x3001;struct cfs_rq<br>
&#x2003;&#x2003;&#x2003;3&#x3001;struct sched_entity<br>
&#x2003;&#x2003;&#x2003;4&#x3001;struct sched_class<br>
&#x2003;&#x2003;&#x2003;5&#x3001;struct sched_class fair_sched_class<br>
&#x2003;&#x2003;&#x2003;6&#x3001;Chapter4 &#x603B;&#x7ED3; &amp; &#x5B8C;&#x6574;&#x601D;&#x7EF4;&#x5BFC;&#x56FE;</p>
<p>&#x2003;<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">Chapter 5 &#x9009;&#x505A;&#x90E8;&#x5206;</font></p>
</font>
<div style="page-break-after: always;"></div>
<br>
<center><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="5">&#x7ED3;&#x6784;&#x4F53;&#x51FD;&#x6570;&#x6587;&#x4EF6;&#x5BF9;&#x7167;&#x8868;</font></center>
<br>
<div><center>
<img src="&#x5BF9;&#x7167;&#x8868;.png" width="70%" height="70%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x7ED3;&#x6784;&#x4F53;&#x51FD;&#x6570;&#x6587;&#x4EF6;&#x5BF9;&#x7167;&#x8868;</font>
</strong>
</center></div>
<div style="page-break-after: always;"></div>
<br>
<center><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="5">Chapter1 &#x8FDB;&#x7A0B;&#x57FA;&#x672C;&#x6982;&#x5FF5;</font></center>
<br>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">1 &#x4EC0;&#x4E48;&#x662F;&#x8FDB;&#x7A0B;</font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">1.1 &#x8FDB;&#x7A0B;&#x7684;&#x5B9A;&#x4E49;</font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<p>&#x3010;&#x4E2D;&#x6587;&#x5B9A;&#x4E49;&#x3011;&#x8FDB;&#x7A0B;&#x662F;&#x8BA1;&#x7B97;&#x673A;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5177;&#x6709;&#x72EC;&#x7ACB;&#x529F;&#x80FD;&#x7684;&#x7A0B;&#x5E8F;&#x5173;&#x4E8E;&#x67D0;&#x6570;&#x636E;&#x96C6;&#x5408;&#x4E0A;&#x7684;&#x4E00;&#x6B21;&#x8FD0;&#x884C;&#x6D3B;&#x52A8;&#xFF0C;&#x662F;&#x7CFB;&#x7EDF;&#x8FDB;&#x884C;&#x8D44;&#x6E90;&#x5206;&#x914D;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#x3002;<br>
&#x3010;&#x82F1;&#x6587;&#x5B9A;&#x4E49;&#x3011;Process is an instance of a computer program that is being executed.</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">1.2 &#x8FDB;&#x7A0B;&#x4E0E;&#x7EBF;&#x7A0B;</font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<p>&#x3010;&#x7EBF;&#x7A0B;&#x7684;&#x5B9A;&#x4E49;&#x3011;&#x7EBF;&#x7A0B;&#xFF08;thread&#xFF09;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x80FD;&#x591F;&#x8FDB;&#x884C;&#x8FD0;&#x7B97;&#x8C03;&#x5EA6;&#x7684;&#x6700;&#x5C0F;&#x5355;&#x4F4D;&#x3002;<br>
&#x3010;&#x7EBF;&#x7A0B;&#x4E0E;&#x8FDB;&#x7A0B;&#x3011;&#x8FDB;&#x7A0B;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x5206;&#x914D;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#xFF0C;&#x800C;&#x7EBF;&#x7A0B;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8C03;&#x5EA6;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#x3002;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x8FD9;&#x4E9B;&#x7EBF;&#x7A0B;&#x5171;&#x4EAB;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90;&#xFF0C;&#x5982;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x3001;&#x6587;&#x4EF6;&#x53E5;&#x67C4;&#x7B49;&#x3002;<br>
&#x3010; linux &#x4E2D;&#x7684; task_struct &#x3011;&#x5728; linux &#x4E2D;&#x5E76;&#x4E0D;&#x533A;&#x5206;&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#xFF0C;&#x90FD;&#x662F;&#x7528; task_struct &#x6765;&#x62BD;&#x8C61;&#x3002;&#x652F;&#x6301;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x662F;&#x7531;&#x4E00;&#x7EC4; task_struct &#x6765;&#x62BD;&#x8C61;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B; task_struct &#x4F1A;&#x5171;&#x4EAB;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x3002;linux &#x7528; thread ID &#x6765;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x5BF9;&#x4E8E;&#x5355;&#x7EBF;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;process ID &#x548C; thread ID&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x5BF9;&#x4E8E;&#x652F;&#x6301;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x6709;&#x81EA;&#x5DF1;&#x7684; thread ID&#xFF0C;&#x4F46;&#x662F;&#x6240;&#x6709;&#x7684;&#x7EBF;&#x7A0B;&#x5171;&#x4EAB;&#x4E00;&#x4E2A;PID&#x3002;<br>
&#x3010;&#x6CE8;&#x3011;task_struct &#x662F;&#x4E00;&#x4E2A;&#x5E9E;&#x5927;&#x7684;&#x7ED3;&#x6784;&#x4F53;&#xFF0C;&#x672C;&#x6587;&#x5C06;&#x5728; Chapter2 &#x8FDB;&#x884C;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">2&#x3001;&#x8FDB;&#x7A0B;&#x4ECE;&#x521B;&#x5EFA;&#x5230;&#x7EC8;&#x6B62;</font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">2.1 &#x5173;&#x7CFB;&#x56FE;</font></p>
<div><center>
<img src="&#x6D41;&#x7A0B;&#x56FE;.jpg" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;1-1 &#x8FDB;&#x7A0B;&#x4ECE;&#x521B;&#x5EFA;&#x5230;&#x7EC8;&#x6B62;</font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">2.2 &#x8FDB;&#x7A0B;&#x7684;&#x72B6;&#x6001;</font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<p>&#x4ECE;&#x6D41;&#x7A0B;&#x56FE;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x8FDB;&#x7A0B;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x72B6;&#x6001;&#xFF1A;<br>
&#x3010;&#x521B;&#x5EFA;&#x72B6;&#x6001;&#x3011;&#x4E00;&#x4E2A;&#x65B0;&#x8FDB;&#x7A0B;&#x88AB;&#x521B;&#x5EFA;&#x65F6;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x72B6;&#x6001;<br>
&#x3010;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x3011;&#x8FDB;&#x7A0B;&#x5DF2;&#x7ECF;&#x51C6;&#x5907;&#x597D;&#x5E76;&#x5206;&#x914D;&#x5230;&#x6240;&#x9700;&#x8D44;&#x6E90;&#xFF0C;&#x6B64;&#x65F6;&#xFF0C;&#x53EA;&#x8981;&#x5206;&#x914D;&#x5230;CPU&#x5C31;&#x80FD;&#x591F;&#x7ACB;&#x5373;&#x8FD0;&#x884C;<br>
&#x3010;&#x963B;&#x585E;&#x72B6;&#x6001;&#x3011;&#x8FDB;&#x7A0B;&#x7531;&#x4E8E;&#x7B49;&#x5F85;&#x67D0;&#x4E9B;&#x4E8B;&#x4EF6;&#x800C;&#x6682;&#x505C;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x7B49;&#x5F85;I/O&#x64CD;&#x4F5C;&#x5B8C;&#x6210;<br>
&#x3010;&#x6267;&#x884C;&#x72B6;&#x6001;&#x3011;&#x8FDB;&#x7A0B;&#x5904;&#x4E8E;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x72B6;&#x6001;<br>
&#x3010;&#x7EC8;&#x6B62;&#x72B6;&#x6001;&#x3011;&#x8FDB;&#x7A0B;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#x4E86;&#x5B83;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x6216;&#x8005;&#x7531;&#x4E8E;&#x67D0;&#x4E9B;&#x539F;&#x56E0;&#x88AB;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5F3A;&#x5236;&#x7EC8;&#x6B62;<br>
&#x6CE8;&#xFF1A;&#x4EE5;&#x4E0A;&#x72B6;&#x6001;&#x53EA;&#x662F;&#x4EBA;&#x4EEC;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x7406;&#x89E3;&#x800C;&#x62BD;&#x8C61;&#x51FA;&#x7684;&#x4E94;&#x79CD;&#x72B6;&#x6001;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E0A;&#x5728;linux&#x4E2D;&#x5E76;&#x975E;&#x5B8C;&#x5168;&#x5982;&#x6B64;&#x5212;&#x5206;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">3&#x3001;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;</font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">3.1 &#x4EC0;&#x4E48;&#x662F;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;</font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<p>&#x2003;&#x2003;&#x6240;&#x8C13;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#xFF0C;&#x5C31;&#x662F;&#x6307;&#x5728;&#x5904;&#x4E8E;&#x5C31;&#x7EEA;&#x6001;&#x7684;&#x4E00;&#x5806;&#x8FDB;&#x7A0B;&#x91CC;&#xFF0C;&#x6309;&#x7167;&#x4E00;&#x5B9A;&#x7684;&#x8C03;&#x5EA6;&#x7B97;&#x6CD5;&#xFF0C;&#x9009;&#x51FA;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5E76;&#x7ED9;&#x5B83;&#x5206;&#x914D;CPU&#x65F6;&#x95F4;&#x8BA9;&#x5B83;&#x8FD0;&#x884C;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x591A;&#x8FDB;&#x7A0B;&#x7684;&#x5E76;&#x53D1;&#x6267;&#x884C;&#x3002;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">3.2 &#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;</font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<p>&#x2003;&#x2003;&#x7531;&#x4E8E;&#x4E00;&#x4E2A;CPU&#x540C;&#x65F6;&#x53EA;&#x80FD;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x800C;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x91CC;&#x9762;&#x5F80;&#x5F80;&#x6709;&#x5927;&#x91CF;&#x7684;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85;CPU&#x8D44;&#x6E90;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x8BBE;&#x8BA1;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x52A8;&#x6001;&#x5730;&#x4ECE;&#x4F17;&#x591A;&#x7684;&#x5C31;&#x7EEA;&#x8FDB;&#x7A0B;&#x4E2D;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6700;&#x5408;&#x9002;&#x7684;&#x8FDB;&#x7A0B;&#x6765;&#x5360;&#x7528;CPU&#x8D44;&#x6E90;&#x3002;<br>
&#x2003;&#x2003;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x7684;&#x4EE5;&#x53CA;&#x8BBE;&#x8BA1;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7B97;&#x6CD5;&#x7684;&#x5B97;&#x65E8;&#x662F;&#x4E3A;&#x4E86;&#x5145;&#x5206;&#x5229;&#x7528;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;CPU&#x8D44;&#x6E90;&#xFF0C;&#x8BA9;&#x8BA1;&#x7B97;&#x673A;&#x80FD;&#x591F;&#x591A;&#x5FEB;&#x597D;&#x7701;&#x7684;&#x5B8C;&#x6210;&#x5404;&#x79CD;&#x4EFB;&#x52A1;&#x3002;</p>
</font>
<div style="page-break-after: always;"></div>
<br>
<center><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="5">Chapter2 struct task_struct</font></center>
<br>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">1&#x3001;&#x7ED3;&#x6784;&#x4F53;&#x603B;&#x4F53;&#x4ECB;&#x7ECD;</font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">1.1 &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4ECB;&#x7ECD; struct task_struct </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<p>&#x2003;&#x2003;linux&#x5185;&#x6838;&#x4E2D;&#x4F7F;&#x7528; task_struct &#x7ED3;&#x6784;&#x6765;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x8FD9;&#x4E2A;&#x7ED3;&#x6784;&#x4F53;&#x4FDD;&#x5B58;&#x4E86;&#x8FDB;&#x7A0B;&#x7684;&#x6240;&#x6709;&#x4FE1;&#x606F;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x975E;&#x5E38;&#x5E9E;&#x5927;&#xFF0C;&#x5728;&#x8BB2;&#x89E3;linux&#x5185;&#x6838;&#x7684;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x5FC5;&#x8981;&#x5148;&#x521D;&#x6B65;&#x4E86;&#x89E3;&#x8FD9;&#x4E2A; task_struct &#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x6210;&#x5458;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">1.2 struct  task_struct &#x4E3B;&#x8981;&#x6210;&#x5458;&#x7EC4; </font></p>
<div><center>
<img src="task_struct.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-1 struct  task_struct &#x4E3B;&#x8981;&#x6210;&#x5458;&#x7EC4;</font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">2&#x3001;&#x8FDB;&#x7A0B;&#x72B6;&#x6001;</font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">2.1 &#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<div><center>
<img src="&#x8FDB;&#x7A0B;&#x72B6;&#x6001;.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-2 &#x8FDB;&#x7A0B;&#x72B6;&#x6001;&#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">2.2 &#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="state.png" width="80%" height="80%">
<br>
<img src="_state.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-3 &#x8FDB;&#x7A0B;&#x72B6;&#x6001;&#x4E0E;&#x5B8F;&#x5B9A;&#x4E49;&#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">2.3 &#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<p>&#x2003;&#x2003;task_struct &#x4E2D;&#x8868;&#x793A;&#x8FDB;&#x7A0B;&#x72B6;&#x6001;&#x7684;&#x53D8;&#x91CF;&#x662F; state &#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A; long &#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF;&#x3002;<br>
&#x2003;&#x2003;&#x5F53; state = 0 &#x65F6;&#xFF0C;&#x8868;&#x793A;&#x8FDB;&#x7A0B;&#x5904;&#x4E8E; TASK_RUNNING &#x72B6;&#x6001;&#xFF08;runnable&#xFF09;&#x3002;&#x8FD9;&#x8868;&#x793A;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#xFF0C;&#x6216;&#x8005;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x8FD0;&#x884C;&#x961F;&#x5217;&#x4E2D;&#x7B49;&#x5F85;&#x8FD0;&#x884C;&#x3002;&#x81F3;&#x4E8E;&#x5982;&#x4F55;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#xFF0C;task_struct &#x5E76;&#x6CA1;&#x6709;&#x7ED9;&#x51FA;&#x76F8;&#x5E94;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x4E0D;&#x8FC7;&#x53EF;&#x4EE5;&#x6839;&#x636E;CPU&#x4E0A;&#x7684;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x6307;&#x9488; *curr&#x6765;&#x5224;&#x65AD;&#x3002;<br>
&#x2003;&#x2003;&#x5F53; state = -1 &#x65F6;&#xFF0C;&#x8868;&#x793A;&#x8FDB;&#x7A0B;&#x4E0D;&#x53EF;&#x8FD0;&#x884C;&#xFF08;unrunnale&#xFF09;&#x3002;&#x8FD9;&#x901A;&#x5E38;&#x662F;&#x56E0;&#x4E3A;&#x8FDB;&#x7A0B;&#x88AB;&#x51BB;&#x7ED3;&#x4E86;&#x6216;&#x6B63;&#x5728;&#x9000;&#x51FA;&#xFF0C;&#x6B64;&#x65F6;&#x9700;&#x8981;&#x901A;&#x8FC7; task_struct &#x7684;&#x6807;&#x8BB0;&#x7B26;&#x53F7; flags &#x7684;&#x503C;&#x6765;&#x5224;&#x65AD;&#x8FDB;&#x7A0B;&#x6240;&#x5904;&#x7684;&#x72B6;&#x6001;&#xFF08;&#x540E;&#x9762;&#x4F1A;&#x63D0;&#x53CA;&#xFF09;&#x3002;<br>
&#x2003;&#x2003;&#x5F53; state &gt; 0 &#x65F6;&#xFF0C;&#x8868;&#x793A;&#x8FDB;&#x7A0B;&#x6B63;&#x5904;&#x4E8E;&#x975E;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#xFF08;stopped&#xFF09;&#x3002;&#x975E;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x662F;&#x4E00;&#x7CFB;&#x5217;&#x72B6;&#x6001;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x5B83;&#x5305;&#x62EC;TASK_INTERRUPTIBLE&#x3001;TASK_UNINTERRUPTIBLE &#x7B49;&#x72B6;&#x6001;&#xFF0C;&#x8BE6;&#x7EC6;&#x89C1;&#x4E0B;&#x56FE;&#xFF1A;</p>
<div><center>
<img src="stopped.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-4 stopped &#x72B6;&#x6001;</font>
</strong>
</center></div>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">3&#x3001;&#x8FDB;&#x7A0B;&#x4E0E;&#x5185;&#x6838;&#x6808;</font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">3.1 &#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<div><center>
<img src="&#x8FDB;&#x7A0B;&#x4E0E;&#x5185;&#x6838;&#x6808;.png" width="70%" height="80%">
<br>
<img src="&#x8FDB;&#x7A0B;&#x4E0E;&#x5185;&#x6838;&#x6808;2.png" width="70%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-5 &#x8FDB;&#x7A0B;&#x4E0E;&#x8FDB;&#x7A0B;&#x5185;&#x6838;&#x6808;&#x601D;&#x7EF4;&#x5BFC;&#x56FE;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">3.2 &#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="stack.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-6 &#x8FDB;&#x7A0B;&#x4E0E;&#x8FDB;&#x7A0B;&#x5185;&#x6838;&#x6808;&#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">3.3 &#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<p>&#x2003;&#x2003;&#x5185;&#x6838;&#x5728;&#x521B;&#x5EFA;&#x8FDB;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x4E3A;&#x8FDB;&#x7A0B;&#x521B;&#x5EFA;&#x76F8;&#x5E94;&#x7684;&#x5806;&#x6808;&#x3002;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x4F1A;&#x6709;&#x4E24;&#x4E2A;&#x6808;&#xFF0C;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x6808;&#xFF0C;&#x5B58;&#x5728;&#x4E8E;&#x7528;&#x6237;&#x7A7A;&#x95F4;&#xFF0C;&#x4E00;&#x4E2A;&#x5185;&#x6838;&#x6808;&#xFF0C;&#x5B58;&#x5728;&#x4E8E;&#x5185;&#x6838;&#x7A7A;&#x95F4;&#x3002;&#x5F53;&#x8FDB;&#x7A0B;&#x5728;&#x7528;&#x6237;&#x7A7A;&#x95F4;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;CPU&#x5806;&#x6808;&#x6307;&#x9488;&#x5BC4;&#x5B58;&#x5668;&#x91CC;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x662F;&#x7528;&#x6237;&#x5806;&#x6808;&#x5730;&#x5740;&#xFF0C;&#x4F7F;&#x7528;&#x7528;&#x6237;&#x6808;&#xFF1B;&#x5F53;&#x8FDB;&#x7A0B;&#x5728;&#x5185;&#x6838;&#x7A7A;&#x95F4;&#x65F6;&#xFF0C;CPU&#x5806;&#x6808;&#x6307;&#x9488;&#x5BC4;&#x5B58;&#x5668;&#x91CC;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x662F;&#x5185;&#x6838;&#x6808;&#x7A7A;&#x95F4;&#x5730;&#x5740;&#xFF0C;&#x4F7F;&#x7528;&#x5185;&#x6838;&#x6808;&#x3002;<br>
&#x2003;&#x2003;&#x5F53;&#x8FDB;&#x7A0B;&#x56E0;&#x4E3A;&#x4E2D;&#x65AD;&#x6216;&#x8005;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x800C;&#x9677;&#x5165;&#x5185;&#x6838;&#x6001;&#x4E4B;&#x884C;&#x65F6;&#xFF0C;&#x8FDB;&#x7A0B;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x5806;&#x6808;&#x4E5F;&#x8981;&#x4ECE;&#x7528;&#x6237;&#x6808;&#x8F6C;&#x5230;&#x5185;&#x6838;&#x6808;&#x3002;&#x8FDB;&#x7A0B;&#x8FDB;&#x5165;&#x5185;&#x6838;&#x6001;&#x540E;&#xFF0C;&#x5148;&#x628A;&#x7528;&#x6237;&#x6001;&#x5806;&#x6808;&#x7684;&#x5730;&#x5740;&#x4FDD;&#x5B58;&#x5728;&#x5185;&#x6838;&#x6808;&#x4E4B;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x8BBE;&#x7F6E;&#x5806;&#x6808;&#x6307;&#x9488;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x5185;&#x5BB9;&#x4E3A;&#x5185;&#x6838;&#x6808;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x7528;&#x6237;&#x6808;&#x5411;&#x5185;&#x6838;&#x6808;&#x7684;&#x8F6C;&#x6362;&#x3002;&#x5F53;&#x8FDB;&#x7A0B;&#x4ECE;&#x5185;&#x6838;&#x6001;&#x6062;&#x590D;&#x5230;&#x7528;&#x6237;&#x6001;&#x65F6;&#xFF0C;&#x5728;&#x5185;&#x6838;&#x6001;&#x6267;&#x884C;&#x7684;&#x6700;&#x540E;&#x5C06;&#x4FDD;&#x5B58;&#x5728;&#x5185;&#x6838;&#x6808;&#x91CC;&#x9762;&#x7684;&#x7528;&#x6237;&#x6808;&#x7684;&#x5730;&#x5740;&#x6062;&#x590D;&#x5230;&#x5806;&#x6808;&#x6307;&#x9488;&#x5BC4;&#x5B58;&#x5668;&#x5373;&#x53EF;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x5185;&#x6838;&#x6808;&#x548C;&#x7528;&#x6237;&#x6808;&#x7684;&#x4E92;&#x8F6C;&#x3002;<br>
&#x2003;&#x2003;&#x90A3;&#x4E48;&#xFF0C;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x4ECE;&#x5185;&#x6838;&#x8F6C;&#x5230;&#x7528;&#x6237;&#x6001;&#x65F6;&#x7528;&#x6237;&#x6808;&#x7684;&#x5730;&#x5740;&#x662F;&#x5728;&#x9677;&#x5165;&#x5185;&#x6838;&#x7684;&#x65F6;&#x5019;&#x4FDD;&#x5B58;&#x5728;&#x5185;&#x6838;&#x6808;&#x91CC;&#x9762;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x9677;&#x5165;&#x5185;&#x6838;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x662F;&#x5982;&#x4F55;&#x77E5;&#x9053;&#x5185;&#x6838;&#x6808;&#x7684;&#x5730;&#x5740;&#x7684;&#x5462;&#xFF1F;<br>
&#x5173;&#x952E;&#x5728;&#x8FDB;&#x7A0B;&#x4ECE;&#x7528;&#x6237;&#x6001;&#x8F6C;&#x5230;&#x5185;&#x6838;&#x6001;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FDB;&#x7A0B;&#x7684;&#x5185;&#x6838;&#x6808;&#x603B;&#x662F;&#x7A7A;&#x7684;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#xFF0C;&#x5F53;&#x8FDB;&#x7A0B;&#x5728;&#x7528;&#x6237;&#x6001;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x7528;&#x6237;&#x6808;&#xFF0C;&#x5F53;&#x8FDB;&#x7A0B;&#x9677;&#x5165;&#x5230;&#x5185;&#x6838;&#x6001;&#x65F6;&#xFF0C;&#x5185;&#x6838;&#x6808;&#x4FDD;&#x5B58;&#x8FDB;&#x7A0B;&#x5728;&#x5185;&#x6838;&#x6001;&#x8FD0;&#x884C;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x65E6;&#x8FDB;&#x7A0B;&#x8FD4;&#x56DE;&#x5230;&#x7528;&#x6237;&#x6001;&#x540E;&#xFF0C;&#x5185;&#x6838;&#x6808;&#x4E2D;&#x4FDD;&#x5B58;&#x7684;&#x4FE1;&#x606F;&#x65E0;&#x6548;&#xFF0C;&#x4F1A;&#x5168;&#x90E8;&#x6062;&#x590D;&#xFF0C;&#x56E0;&#x6B64;&#x6BCF;&#x6B21;&#x8FDB;&#x7A0B;&#x4ECE;&#x7528;&#x6237;&#x6001;&#x9677;&#x5165;&#x5185;&#x6838;&#x7684;&#x65F6;&#x5019;&#x5F97;&#x5230;&#x7684;&#x5185;&#x6838;&#x6808;&#x90FD;&#x662F;&#x7A7A;&#x7684;&#x3002;&#x6240;&#x4EE5;&#x5728;&#x8FDB;&#x7A0B;&#x9677;&#x5165;&#x5185;&#x6838;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x76F4;&#x63A5;&#x628A;&#x5185;&#x6838;&#x6808;&#x7684;&#x6808;&#x5E95;&#x5730;&#x5740;&#x7ED9;&#x5806;&#x6808;&#x6307;&#x9488;&#x5BC4;&#x5B58;&#x5668;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;<br>
&#x2003;&#x2003;&#x8BB2;&#x4E86;&#x8FD9;&#x4E48;&#x591A;&#x5173;&#x4E8E;&#x8FDB;&#x7A0B;&#x5185;&#x6838;&#x6808;&#x7406;&#x8BBA;&#x65B9;&#x9762;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x90A3;&#x4E48;liunx&#x5177;&#x4F53;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x4E8C;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x5207;&#x6362;&#x7684;&#x5462;&#xFF1F;<br>
&#x2003;&#x2003;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;task_struct &#x7ED3;&#x6784;&#x4F53;&#x4E3A;&#x5B9E;&#x73B0;&#x4ECE;&#x7528;&#x6237;&#x6001;&#x8F6C;&#x5230;&#x5185;&#x6838;&#x6001;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A; *stack &#x7684;&#x6307;&#x9488;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x6307;&#x9488;&#xFF08;&#x7ECF;&#x8FC7;&#x4E00;&#x7CFB;&#x5217;&#x51FD;&#x6570;&#x4E0E;&#x8BA1;&#x7B97;&#xFF09;&#x5C31;&#x80FD;&#x8BBF;&#x95EE;&#x8FDB;&#x7A0B;&#x7684;&#x5185;&#x6838;&#x6808;&#x3002;&#x800C;&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x4ECE;&#x5185;&#x6838;&#x6001;&#x8F6C;&#x5230;&#x7528;&#x6237;&#x6001;&#xFF0C;linux &#x5728;&#x8BBE;&#x8BA1;&#x5185;&#x6838;&#x6808;&#x65F6;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E0A;&#x521B;&#x5EFA;&#x7684;&#x662F; union thread_union&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<div><center>
<img src="thread_union.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-7 thread_union &#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p>&#x2003;&#x2003;&#x5F15;&#x5165; union &#x800C;&#x4E0D;&#x662F;&#x4F7F;&#x7528; struct &#x7ED3;&#x6784;&#x662F;&#x4E3A;&#x4E86;&#x8BA9;&#x5185;&#x6838;&#x6808;&#x4E0E; thread_info &#x4F4D;&#x4E8E;&#x540C;&#x4E00;&#x5757;&#x5185;&#x5B58;&#x3002;&#x7531;&#x4E8E; thread_info &#x4E2D;&#x5B58;&#x5728;&#x4E00;&#x4E2A; struct task_struct *stack &#x6307;&#x9488;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5185;&#x6838;&#x6001;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8C03;&#x7528;&#x4E0E;&#x5176;&#x5904;&#x4E8E;&#x540C;&#x4E00;&#x5185;&#x5B58;&#x5730;&#x5740;&#x4E0B;&#x7684; thread_info &#x4E2D;&#x7684; *stack &#x6307;&#x9488;&#x6765;&#x5B9E;&#x73B0;&#x4ECE;&#x5185;&#x6838;&#x6001;&#x8F6C;&#x5230;&#x7528;&#x6237;&#x6001;&#x3002;</p>
<div><center>
<img src="arch&#x4E0B;&#x7684;thread_info.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-8 arch&#x4E0B;thread_info &#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p>&#x2003;&#x2003;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x4E0D;&#x540C;&#x67B6;&#x6784;&#x7684; thread_info &#x7ED3;&#x6784;&#x4F53;&#x5305;&#x542B;&#x7684;&#x5185;&#x5BB9;&#x662F;&#x4E0D;&#x5C3D;&#x76F8;&#x540C;&#x7684;&#x3002;linux &#x652F;&#x6301;&#x7684;CPU&#x67B6;&#x6784;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x672C;&#x5B9E;&#x9A8C;&#x73AF;&#x5883;&#x4E0B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBF;&#x95EE;arch&#x6587;&#x4EF6;&#x5939;&#x67E5;&#x770B;&#x3002;</p>
<div><center>
<img src="arch.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-9 &#x652F;&#x6301;&#x7684;&#x67B6;&#x6784;  </font>
</strong>
</center></div>
<p>&#x2003;&#x2003;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x6709;&#x4E00;&#x4E9B;&#x67B6;&#x6784;&#x4E2D;&#x7684; thread_info &#x5E76;&#x6CA1;&#x6709; *stack&#x6307;&#x9488;&#xFF0C;&#x4F8B;&#x5982;&#x5728; arm64 &#x5E73;&#x53F0;&#x4E0A;&#xFF0C;thread_info &#x7ED3;&#x6784;&#x4F53;&#x5E76;&#x4E0D;&#x5305;&#x542B;&#x6307;&#x5411; task_struct &#x7684;&#x7ED3;&#x6784;&#x4F53;&#x6307;&#x9488;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#xFF0C;&#x5728; arm64 &#x5E73;&#x53F0;&#x4E0A;&#xFF0C;&#x5185;&#x6838;&#x6001;&#x5230;&#x7528;&#x6237;&#x6001;&#x7684;&#x8F6C;&#x6362;&#x662F;&#x901A;&#x8FC7; el0 &#x548C; el1 &#x4E24;&#x4E2A;&#x7279;&#x6743;&#x7EA7;&#x522B;&#x6765;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x5F53;&#x8FDB;&#x7A0B;&#x4ECE;&#x7528;&#x6237;&#x6001;&#x5207;&#x6362;&#x5230;&#x5185;&#x6838;&#x6001;&#x65F6;&#xFF0C;&#x4F1A;&#x4ECE; el0 &#x5207;&#x6362;&#x5230; el1&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x5185;&#x6838;&#x4EE3;&#x7801;&#x3002;&#x5F53;&#x5185;&#x6838;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x4F1A;&#x4ECE; el1 &#x5207;&#x6362;&#x56DE;&#x5230; el0&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;&#x7528;&#x6237;&#x6001;&#x3002;</p>
<div><center>
<img src="arm64&#x4E0B;&#x7684;thread_info.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-10 arm64&#x4E0B;thread_info &#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
</font>
<br>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">4&#x3001;&#x8FDB;&#x7A0B;&#x7684;&#x4EB2;&#x5C5E;&#x5173;&#x7CFB;</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">4.1 &#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<div><center>
<img src="&#x4EB2;&#x5C5E;&#x5173;&#x7CFB;.png" width="70%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-11 &#x8FDB;&#x7A0B;&#x7684;&#x4EB2;&#x5C5E;&#x5173;&#x7CFB;&#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">4.2 &#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="family.png" width="90%" height="90%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-12 &#x8FDB;&#x7A0B;&#x7684;&#x4EB2;&#x5C5E;&#x5173;&#x7CFB;&#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">4.3 &#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<ul>
<li>
<p>*real_parent&#xFF1A;&#x6307;&#x5411;&#x521B;&#x5EFA;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x7236;&#x8FDB;&#x7A0B;&#x7684;task_struct&#x6307;&#x9488;</p>
</li>
<li>
<p>*parent&#xFF1A;&#x901A;&#x5E38;&#x548C;real_parent&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F8B;&#x5982;&#x8FDB;&#x7A0B;&#x88AB;ptrace&#x8DDF;&#x8E2A;&#x65F6;&#xFF0C;&#x4F1A;&#x88AB;&#x4FEE;&#x6539;&#x4E3A;&#x8DDF;&#x8E2A;&#x8FDB;&#x7A0B;&#x3002;</p>
</li>
<li>
<p>children&#xFF1A;&#x94FE;&#x8868;&#xFF0C;&#x5305;&#x542B;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x6240;&#x6709;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;task_struct&#x6307;&#x9488;</p>
</li>
<li>
<p>sibling&#xFF1A;&#x94FE;&#x8868;&#xFF0C;&#x5305;&#x542B;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x6240;&#x6709;&#x5144;&#x5F1F;&#x8FDB;&#x7A0B;&#x7684;task_struct&#x6307;&#x9488;</p>
</li>
<li>
<p>*group_leader&#xFF1A;&#x6307;&#x5411;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x6240;&#x5C5E;&#x7EBF;&#x7A0B;&#x7EC4;&#x7684;&#x9996;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;task_struct&#x6307;&#x9488;</p>
</li>
</ul>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">5&#x3001;&#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x8BC6;&#x7B26; PID</font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">5.1 &#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<div><center>
<img src="&#x6807;&#x8BC6;&#x7B26;.png" width="60%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-13 &#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">5.2 &#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="pid.png" width="50%" height="90%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-14 &#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">5.3 &#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<ul>
<li>
<p>pid Process ID&#xFF0C;&#x8FDB;&#x7A0B;&#x53F7;&#xFF0C;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;task_struct &#x7ED3;&#x6784;&#x4F53;&#x7684;&#x6570;&#x5B57;&#x3002;</p>
</li>
<li>
<p>tgid Thread Group ID&#xFF0C;&#x7EBF;&#x7A0B;&#x7EC4;ID&#xFF0C;&#x6807;&#x8BC6;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E2D;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#x7684; task_struct &#x7ED3;&#x6784;&#x4F53;&#x7684;&#x6570;&#x5B57;&#x3002;</p>
</li>
<li>
<p>&#x3010;&#x91CD;&#x70B9;&#x3011;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;&#x4F1A;&#x6709;&#x65B0;&#x7684;PID&#x548C;TGID&#xFF0C;&#x5E76;&#x4E14;2&#x4E2A;&#x503C;&#x76F8;&#x540C;&#xFF1B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E5F;&#x4F1A;&#x6709;&#x65B0;&#x7684;PID&#xFF0C;&#x4F46;&#x5B83;&#x7684; tgid &#x4E0E;&#x521B;&#x5EFA;&#x5B83;&#x7684;&#x8FDB;&#x7A0B;&#x7684; tgid &#x4E00;&#x81F4;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x5185;&#x6838;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; tgid &#x77E5;&#x9053;&#x67D0;&#x4E2A; task &#x5C5E;&#x4E8E;&#x54EA;&#x4E2A;&#x7EBF;&#x7A0B;&#x7EC4;&#xFF0C;&#x4E5F;&#x5C31;&#x77E5;&#x9053;&#x5C5E;&#x4E8E;&#x54EA;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E86;&#x3002;&#x5F53;&#x4F7F;&#x7528; ps &#x547D;&#x4EE4;&#x6216;&#x8005; getpid() &#x7B49;&#x63A5;&#x53E3;&#x67E5;&#x8BE2;&#x8FDB;&#x7A0B; id &#x65F6;&#xFF0C;&#x5185;&#x6838;&#x8FD4;&#x56DE;&#x7684;&#x662F; tgid</p>
</li>
</ul>
<div><center>
<img src="pid-tgid.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-15 pid &#x4E0E; tgid  </font>
</strong>
</center></div>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">6&#x3001;&#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x8BB0; flags</font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">6.1 &#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<div><center>
<img src="&#x6807;&#x8BB0;.png" width="60%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-16 &#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x8BB0;&#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">6.2 &#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="flag.png" width="70%" height="70%">
<br>
<img src="flags.png" width="70%" height="70%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-17 &#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x8BB0;&#x53CA;&#x5176;&#x5B8F;&#x5B9A;&#x4E49;&#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">6.3 &#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#x2003;&#x2003;flags&#x6709;&#x5F88;&#x591A;&#x79CD;&#x53EF;&#x80FD;&#x7684;&#x53D6;&#x503C;&#xFF0C;&#x5206;&#x522B;&#x4EE3;&#x8868;&#x4E0D;&#x540C;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x6BCF;&#x79CD;&#x503C;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x72B6;&#x6001;&#x5982;&#x4E0A;&#x56FE;&#x5B8F;&#x5B9A;&#x4E49;&#x6240;&#x793A;&#xFF0C;&#x6B64;&#x5916;&#xFF0C;&#x4E0E;state&#x7C7B;&#x4F3C;&#xFF0C;flags&#x5BF9;&#x5E94;&#x7684;&#x72B6;&#x6001;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x591A;&#x79CD;&#x72B6;&#x6001;&#x7684;&#x53E0;&#x52A0;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">7&#x3001;&#x8FDB;&#x7A0B;&#x7684; ptrace </font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">7.1 &#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<div><center>
<img src="ptrace.png" width="70%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-18 &#x8FDB;&#x7A0B;&#x7684; ptrace &#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">7.2 &#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="flag.png" width="70%" height="70%">
<br>
<img src="ptrace2.png" width="70%" height="70%">
<br>
<img src="ptrace3.png" width="70%" height="70%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-19 &#x8FDB;&#x7A0B;&#x7684; ptrace &#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">7.3 &#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<ul>
<li>ptrace&#x662F;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x8BA9;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF08;&#x8DDF;&#x8E2A;&#x8005;&#xFF09;&#x89C2;&#x5BDF;&#x548C;&#x63A7;&#x5236;&#x53E6;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF08;&#x88AB;&#x8DDF;&#x8E2A;&#x8005;&#xFF09;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x68C0;&#x67E5;&#x548C;&#x4FEE;&#x6539;&#x88AB;&#x8DDF;&#x8E2A;&#x8005;&#x7684;&#x5185;&#x5B58;&#x548C;&#x5BC4;&#x5B58;&#x5668;&#x3002;&#x5B83;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x65AD;&#x70B9;&#x8C03;&#x8BD5;&#x548C;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x8DDF;&#x8E2A;&#x3002;&#x8981;&#x4F7F;&#x7528;ptrace&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5C06;&#x88AB;&#x8DDF;&#x8E2A;&#x8005;&#x9644;&#x52A0;&#x5230;&#x8DDF;&#x8E2A;&#x8005;&#x4E0A;&#x3002;</li>
<li>ptrace&#xFF1A;&#x6574;&#x6570;&#x503C;&#xFF0C;&#x8BB0;&#x5F55;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x88AB;&#x8DDF;&#x8E2A;&#xFF0C;&#x4EE5;&#x53CA;&#x8DDF;&#x8E2A;&#x7684;&#x6A21;&#x5F0F;&#x548C;&#x9009;&#x9879;</li>
<li>ptrace_message&#xFF1A;&#x7528;&#x4E8E;&#x4F20;&#x9012;ptrace&#x4E8B;&#x4EF6;&#x7684;&#x9644;&#x52A0;&#x4FE1;&#x606F;</li>
<li>ptraced&#xFF1A;&#x4E00;&#x4E2A;&#x94FE;&#x8868;&#xFF0C;&#x5305;&#x542B;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x8DDF;&#x8E2A;&#x7684;&#x6240;&#x6709;&#x8FDB;&#x7A0B;&#x7684;task_struct&#x6307;&#x9488;</li>
<li>ptrace_entry&#xFF1A;&#x4E00;&#x4E2A;&#x94FE;&#x8868;&#x8282;&#x70B9;&#xFF0C;&#x7528;&#x4E8E;&#x5C06;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x52A0;&#x5165;&#x5230;&#x8DDF;&#x8E2A;&#x8005;&#x7684;ptraced&#x94FE;&#x8868;&#x4E2D;</li>
</ul>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">8&#x3001;&#x8FDB;&#x7A0B;&#x7684;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F; </font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">8.1 &#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<div><center>
<img src="&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-20 &#x8FDB;&#x7A0B;&#x7684;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">8.2 &#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="information.png" width="70%" height="70%">
<br>
<img src="information2.png" width="70%" height="70%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-21 &#x8FDB;&#x7A0B;&#x7684;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">8.3 &#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#xFF08;&#x4E00;&#xFF09;Time</p>
<ul>
<li>utime&#xFF1A;user time &#x7528;&#x6237;&#x6001;&#x6D88;&#x8017;CPU&#x65F6;&#x95F4;</li>
<li>stime&#xFF1A;&#x5185;&#x6838;&#x6001;&#x6D88;&#x8017;CPU&#x65F6;&#x95F4;</li>
<li>gtime&#xFF1A;&#x865A;&#x62DF;&#x673A;&#x8FD0;&#x884C;&#x65F6;&#x95F4;</li>
<li>start_time&#xFF1A;&#x8FDB;&#x7A0B;&#x7684;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#xFF08;&#x4E0D;&#x5305;&#x542B;&#x7761;&#x7720;&#xFF09;</li>
<li>real_start_time&#xFF1A;&#x8FDB;&#x7A0B;&#x7684;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#xFF08;&#x5305;&#x542B;&#x7761;&#x7720;&#xFF09;</li>
<li>real_start_time = start_time + &#x603B;&#x7684;&#x7761;&#x7720;&#x65F6;&#x95F4;</li>
</ul>
<p>&#xFF08;&#x4E8C;&#xFF09;Context Switches</p>
<ul>
<li>nvcsw&#xFF1A;Number of Voluntary Context Switches&#xFF0C;&#x81EA;&#x613F;&#xFF08;&#x4E3B;&#x52A8;&#xFF09;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#xFF0C;&#x6307;&#x8FDB;&#x7A0B;&#x4E3B;&#x52A8;&#x653E;&#x5F03;CPU&#xFF0C;&#x4F8B;&#x5982;&#x7B49;&#x5F85;I/O&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x3002;</li>
<li>long nivcsw&#xFF1A;Number of Involuntary Context Switches&#xFF0C;&#x975E;&#x4E3B;&#x52A8;&#xFF08;&#x81EA;&#x613F;&#xFF09;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#x6B21;&#x6570;&#xFF0C;&#x6307;&#x8FDB;&#x7A0B;&#x88AB;&#x8FEB;&#x653E;&#x5F03;CPU&#xFF0C;&#x4F8B;&#x5982;&#x65F6;&#x95F4;&#x7247;&#x7528;&#x5B8C;&#x6216;&#x8005;&#x88AB;&#x66F4;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x8FDB;&#x7A0B;&#x62A2;&#x5360;&#x3002;</li>
</ul>
<p>&#xFF08;&#x4E09;&#xFF09;Page Fault<br>
&#x2003;&#x2003;&#x5F53;&#x8FDB;&#x7A0B;&#x8BBF;&#x95EE;&#x5B83;&#x7684;&#x865A;&#x62DF;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#x4E2D;&#x7684;PAGE&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;PAGE&#x76EE;&#x524D;&#x8FD8;&#x4E0D;&#x5728;&#x7269;&#x7406;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;Linux&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;hard page fault&#x4E2D;&#x65AD;&#x3002;<br>
&#x2003;&#x2003;&#x6B64;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x9700;&#x8981;&#x505A;&#x4EE5;&#x4E0B;&#x51E0;&#x4EF6;&#x4E8B;&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x7A0B;&#x624D;&#x80FD;&#x8BBF;&#x95EE;&#x8FD9;&#x90E8;&#x5206;&#x865A;&#x62DF;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#x7684;&#x5185;&#x5B58;&#x3002;<br>
&#x2003;&#x2003;&#xFF08;1&#xFF09;&#x4ECE;&#x6162;&#x901F;&#x8BBE;&#x5907;&#xFF08;&#x5982;&#x78C1;&#x76D8;&#xFF09;&#x5C06;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;PAGE&#x8BFB;&#x5165;&#x7269;&#x7406;&#x5185;&#x5B58;<br>
&#x2003;&#x2003;&#xFF08;2&#xFF09;&#x5EFA;&#x7ACB;&#x7269;&#x7406;&#x5185;&#x5B58;&#x5730;&#x5740;&#x4E0E;&#x865A;&#x62DF;&#x5730;&#x5740;&#x7A7A;&#x95F4;PAGE&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#x3002;</p>
<ul>
<li>
<p>maj_flt&#xFF1A;major page fault&#xFF0C;&#x4E5F;&#x79F0;&#x4E3A;hard page fault, &#x6307;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x7684;&#x5185;&#x5B58;&#x4E0D;&#x5728;&#x865A;&#x62DF;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#xFF0C;&#x4E5F;&#x4E0D;&#x5728;&#x7269;&#x7406;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x7CFB;&#x7EDF;&#x9700;&#x8981;&#x5B8C;&#x6210;&#x4E0A;&#x8FF0;&#x7684;&#xFF08;1&#xFF09;&#x4E0E;&#xFF08;2&#xFF09;&#x3002;<br>
&#x6CE8;&#xFF1A;&#x4ECE;swap&#x56DE;&#x5230;&#x7269;&#x7406;&#x5185;&#x5B58;&#x4E5F;&#x662F;hard page fault&#x3002;</p>
</li>
<li>
<p>min_flt&#xFF1A;minor page fault&#xFF0C;&#x4E5F;&#x79F0;&#x4E3A;soft page fault, &#x6307;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x7684;&#x5185;&#x5B58;&#x4E0D;&#x5728;&#x865A;&#x62DF;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x7269;&#x7406;&#x5185;&#x5B58;&#x4E2D;&#x3002;&#x6B64;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x53EA;&#x9700;&#x8981;&#x5B8C;&#x6210;&#x4E0A;&#x8FF0;&#x7684;&#xFF08;2&#xFF09;&#x5373;&#x53EF;&#x3002;<br>
&#x6CE8;&#xFF1A;&#x901A;&#x5E38;&#x662F;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x8BBF;&#x95EE;&#x540C;&#x4E00;&#x4E2A;&#x5171;&#x4EAB;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x80FD;&#x67D0;&#x4E9B;&#x8FDB;&#x7A0B;&#x8FD8;&#x6CA1;&#x6709;&#x5EFA;&#x7ACB;&#x8D77;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF0C;&#x6240;&#x4EE5;&#x8BBF;&#x95EE;&#x65F6;&#x4F1A;&#x51FA;&#x73B0; soft page fault</p>
</li>
</ul>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">9&#x3001;&#x8FDB;&#x7A0B;&#x7684;&#x8C03;&#x5EA6; </font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">9.1 &#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<div><center>
<img src="&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;.png" width="90%" height="90%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-22 &#x8FDB;&#x7A0B;&#x7684;&#x8C03;&#x5EA6;&#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">9.2 &#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7684;&#x6E90;&#x4EE3;&#x7801;.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-23 &#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x90E8;&#x5206;&#x7684;&#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">9.3 &#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#xFF08;&#x4E00;&#xFF09;priority</p>
<ul>
<li>prio&#xFF1A;&#x8FDB;&#x7A0B;&#x52A8;&#x6001;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x662F;&#x8C03;&#x5EA6;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x5B83;&#x4F9D;&#x8D56;&#x4E8E;normal_prio&#xFF0C;&#x8C03;&#x5EA6;&#x5668;&#x5728;&#x8FD0;&#x884C;&#x671F;&#x95F4;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x503E;&#x5411;&#x6027;&#x8C03;&#x6574;&#x8BE5;&#x503C;</li>
<li>static_prio&#xFF0C;&#x666E;&#x901A;&#x8FDB;&#x7A0B;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x4EC5;&#x80FD;&#x901A;&#x8FC7;nice&#x4FEE;&#x6539;&#xFF0C;nice&#x53D6;&#x503C;&#x4E3A;[-20,19]&#xFF0C;static_prio = nice + 120&#xFF0C;&#x56E0;&#x6B64; static_prio &#x7684;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x4E3A;[100,139]&#x3002;static_prio&#x7684;&#x503C;&#x8D8A;&#x5C0F;&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x9AD8;&#x3002;</li>
<li>rt_priority&#xFF0C;&#x5B9E;&#x65F6;&#x8FDB;&#x7A0B;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x53D6;&#x503C;&#x4E3A;[0,99]&#xFF0C;&#x3010;&#x6CE8;&#x610F;&#x3011;rt_priority&#x7684;&#x503C;&#x8D8A;&#x5927;&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x5927;&#xFF01;</li>
<li>normal_prio&#xFF0C;&#x5F52;&#x4E00;&#x5316;&#x4F18;&#x5148;&#x7EA7;/&#x6B63;&#x5E38;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;normal_prio&#x503C;&#x662F;&#x6839;&#x636E;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x578B;&#x8BA1;&#x7B97;&#x51FA;&#x6765;&#x7684;&#xFF0C;&#x5BF9;&#x4E8E;&#x5B9E;&#x65F6;&#x8FDB;&#x7A0B;&#xFF1A;normal_prio = 99 - rt_priority&#xFF0C;&#x5BF9;&#x4E8E;&#x975E;&#x5B9E;&#x65F6;&#x8FDB;&#x7A0B;: normal_prio = static_prio</li>
</ul>
<p>&#xFF08;&#x4E8C;&#xFF09;policy</p>
<p>&#x2003;&#x2003;&#x5728; task_struct &#x4E2D;&#xFF0C;policy&#x8868;&#x793A;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x88AB;&#x8C03;&#x5EA6;&#x65F6;&#x6240;&#x91C7;&#x53D6;&#x7684;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x3002;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#xFF1A;</p>
<ul>
<li>SCHED_NORMAL&#xFF1A;&#x666E;&#x901A;&#x975E;&#x5B9E;&#x65F6;&#x4EFB;&#x52A1;&#x7684;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x5B8C;&#x5168;&#x516C;&#x5E73;&#x8C03;&#x5EA6;&#xFF08;CFS&#xFF09;&#x7B97;&#x6CD5;&#xFF0C;&#x6839;&#x636E;&#x4EFB;&#x52A1;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#xFF08;nice&#x503C;&#xFF09;&#x548C;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x6765;&#x5206;&#x914D;CPU&#x65F6;&#x95F4;&#x3002;</li>
<li>SCHED_FIFO&#xFF0C;&#x5B9E;&#x65F6;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#xFF0C;&#x4F7F;&#x7528;&#x5148;&#x8FDB;&#x5148;&#x51FA;&#xFF08;FIFO&#xFF09;&#x7B97;&#x6CD5;&#xFF0C;&#x5373;&#x6309;&#x7167;&#x4EFB;&#x52A1;&#x5230;&#x8FBE;&#x7684;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x6267;&#x884C;&#xFF0C;&#x76F4;&#x5230;&#x4EFB;&#x52A1;&#x5B8C;&#x6210;&#x6216;&#x88AB;&#x66F4;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x4EFB;&#x52A1;&#x62A2;&#x5360;&#x3002;&#x8BE5;&#x7B56;&#x7565;&#x4E0D;&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x7247;&#xFF0C;&#x6240;&#x4EE5;&#x540C;&#x4E00;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x4EFB;&#x52A1;&#x4E0D;&#x4F1A;&#x76F8;&#x4E92;&#x62A2;&#x5360;&#x3002;</li>
<li>SCHED_RR&#xFF1A;&#x5B9E;&#x65F6;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#xFF0C;&#x4F7F;&#x7528;&#x8F6E;&#x8F6C;&#xFF08;RR&#xFF09;&#x7B97;&#x6CD5;&#xFF0C;&#x5373;&#x6BCF;&#x4E2A;&#x4EFB;&#x52A1;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x7247;&#xFF0C;&#x5728;&#x65F6;&#x95F4;&#x7247;&#x7528;&#x5B8C;&#x540E;&#xFF0C;&#x5C31;&#x8BA9;&#x51FA;CPU&#x7ED9;&#x540C;&#x4E00;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x3002;&#x8BE5;&#x7B56;&#x7565;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x540C;&#x4E00;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x4EFB;&#x52A1;&#x90FD;&#x6709;&#x516C;&#x5E73;&#x7684;&#x673A;&#x4F1A;&#x6267;&#x884C;&#x3002;</li>
<li>SCHED_BATCH&#xFF1A;&#x6279;&#x5904;&#x7406;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#xFF0C;&#x4E5F;&#x4F7F;&#x7528;CFS&#x7B97;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x62A2;&#x5360;&#x7684;&#x673A;&#x4F1A;&#x6BD4;&#x666E;&#x901A;&#x4EFB;&#x52A1;&#x5C11;&#xFF0C;&#x4F1A;&#x51CF;&#x5C11;&#x88AB;&#x8C03;&#x5EA6;&#x7684;&#x6B21;&#x6570;&#x3002;&#x8BE5;&#x7B56;&#x7565;&#x9002;&#x5408;&#x90A3;&#x4E9B;&#x6279;&#x5904;&#x7406;&#x5DE5;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982;&#x5927;&#x91CF;&#x7684;&#x8BA1;&#x7B97;&#x6216;&#x6570;&#x636E;&#x5904;&#x7406;&#x3002;</li>
<li>SCHED_IDLE&#xFF1A;&#x7A7A;&#x95F2;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#xFF0C;&#x4E5F;&#x4F7F;&#x7528;CFS&#x7B97;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x4F18;&#x5148;&#x7EA7;&#x6700;&#x4F4E;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x4EFB;&#x52A1;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x65F6;&#x624D;&#x4F1A;&#x6267;&#x884C;&#x3002;&#x8BE5;&#x7B56;&#x7565;&#x9002;&#x5408;&#x90A3;&#x4E9B;&#x4E0D;&#x7D27;&#x6025;&#x7684;&#x540E;&#x53F0;&#x4EFB;&#x52A1;&#xFF0C;&#x6BD4;&#x5982;&#x7D22;&#x5F15;&#x6216;&#x5907;&#x4EFD;&#x3002;</li>
<li>SCHED_DEADLINE&#xFF1A;&#x57FA;&#x4E8E;&#x622A;&#x6B62;&#x65F6;&#x95F4;&#x7684;&#x5B9E;&#x65F6;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#xFF0C;&#x4F7F;&#x7528;EDF&#x548C;CBS&#x7B97;&#x6CD5;&#xFF0C;&#x652F;&#x6301;&#x8D44;&#x6E90;&#x9884;&#x7559;&#x3002;&#x6BCF;&#x4E2A;&#x4EFB;&#x52A1;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x9884;&#x7B97;&#x548C;&#x4E00;&#x4E2A;&#x5468;&#x671F;&#xFF0C;&#x5BF9;&#x5E94;&#x4E8E;&#x4E00;&#x4E2A;&#x91CD;&#x590D;&#x7684;&#x8BF7;&#x6C42;-&#x670D;&#x52A1;&#x6A21;&#x578B;&#x3002;&#x8BE5;&#x7B56;&#x7565;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A;&#x4EFB;&#x52A1;&#x5728;&#x5176;&#x622A;&#x6B62;&#x65F6;&#x95F4;&#x4E4B;&#x524D;&#x5B8C;&#x6210;&#x5176;&#x9884;&#x7B97;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x4EA7;&#x751F;&#x622A;&#x6B62;&#x65F6;&#x95F4;&#x8D85;&#x65F6;&#x3002;&#x8BE5;&#x7B56;&#x7565;&#x9002;&#x7528;&#x4E8E;&#x6709;&#x786C;&#x5B9E;&#x65F6;&#x6216;&#x8F6F;&#x5B9E;&#x65F6;&#x9700;&#x6C42;&#x7684;&#x4EFB;&#x52A1;&#x3002;</li>
</ul>
<p>&#x2003;&#x2003;&#x4ECE;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x8FD8;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF1A;policy &#x662F;&#x6574;&#x578B;&#x6570;&#x636E;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;policy&#x53EF;&#x4EE5;&#x53D6; 0&#xFF0C;1&#xFF0C;2&#xFF0C;3&#xFF0C;5&#xFF1B;&#x8FD9;&#x4E9B;&#x6570;&#x5B57;&#x5206;&#x522B;&#x5BF9;&#x5E94;&#x7684;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x5982;&#x4E0B;&#xFF1A;</p>
<div><center>
<img src="&#x8C03;&#x5EA6;&#x7B56;&#x7565;.png" width="70%" height="70%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-24 &#x8C03;&#x5EA6;&#x7B56;&#x7565;  </font>
</strong>
</center></div>
<p>&#xFF08;&#x4E09;&#xFF09;sched_class<br>
&#x2003;&#x2003;&#x4E0A;&#x8FF0;&#x4ECB;&#x7ECD;&#x4E86;6&#x79CD;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x6BCF;&#x4E00;&#x79CD;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x90FD;&#x4F1A;&#x6709;&#x54CD;&#x5E94;&#x7684;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#xFF0C;linux&#x5171;&#x8BBE;&#x8BA1;&#x4E86;5&#x79CD;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#xFF0C;&#x6309;&#x7167;&#x4F18;&#x5148;&#x7EA7;&#x4ECE;&#x9AD8;&#x5230;&#x4F4E;&#x7684;&#x987A;&#x5E8F;&#x5982;&#x4E0B;&#xFF1A;</p>
<ul>
<li>stop_sched_class&#xFF1A;&#x6700;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#xFF0C;&#x7528;&#x4E8E;&#x505C;&#x6B62;CPU&#x4E0A;&#x7684;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;</li>
<li>dl_sched_class&#xFF1A;&#xFF08;deadline&#xFF09;&#x7528;&#x4E8E;&#x5B9E;&#x73B0; SCHED_DEADLINE &#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x7684;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;</li>
<li>rt_sched_class&#xFF1A;&#xFF08;real time&#xFF09;&#x7528;&#x4E8E;&#x5B9E;&#x73B0; SCHED_FIFO &#x548C; SCHED_RR &#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x7684;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;</li>
<li>fair_sched_class&#xFF1A;&#x7528;&#x4E8E;&#x5B9E;&#x73B0; SCHED_NORMAL &#x548C; SCHED_BATCH &#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x7684;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#xFF0C;&#x4E5F;&#x79F0;&#x4E3A;&#x5B8C;&#x5168;&#x516C;&#x5E73;&#x8C03;&#x5EA6;&#x5668;CFS</li>
<li>idle_sched_class&#xFF1A;&#x6700;&#x4F4E;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#xFF0C;&#x7528;&#x4E8E;&#x5B9E;&#x73B0; SCHED_IDLE &#x8C03;&#x5EA6;&#x7B56;&#x7565;</li>
</ul>
<p>&#x2003;&#x2003;&#x6CE8;&#xFF1A;task_struct &#x4E2D; struct sched_class *sched_class &#x662F;&#x6307;&#x5411;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x7684;&#x6307;&#x9488;&#xFF0C;struct sched_class &#x662F;linux&#x5185;&#x6838;&#x62BD;&#x8C61;&#x51FA;&#x6765;&#x7684;&#x4E00;&#x79CD;&#x8C03;&#x5EA6;&#x7C7B;&#xFF0C;&#x662F;&#x5C06;&#x5404;&#x79CD;&#x8C03;&#x5EA6;&#x5668;&#x7684;&#x5171;&#x6027;&#x7684;&#x7279;&#x5F81;&#x62BD;&#x8C61;&#x51FA;&#x6765;&#x5C01;&#x88C5;&#x6210;&#x7684;&#x7C7B;&#xFF0C;&#x5173;&#x4E8E;&#x5B83;&#x7684;&#x5177;&#x4F53;&#x4FE1;&#x606F;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x4E0B;&#x4E00;&#x7AE0;&#x8282;&#x4ECB;&#x7ECD;&#x3002;</p>
<p>&#xFF08;&#x56DB;&#xFF09;sched_entity</p>
<ul>
<li>struct sched_entity se &#xFF1A; &#x5F53;&#x91C7;&#x7528; cfs &#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x8C03;&#x5EA6;&#x8BE5;&#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;&#x8C03;&#x7528;&#x7684;&#x662F;&#x8BE5;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53; se</li>
<li>struct sched_re_entity rt&#xFF1A;&#x5F53;&#x91C7;&#x7528; rt &#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x8C03;&#x5EA6;&#x8BE5;&#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;&#x8C03;&#x7528;&#x7684;&#x662F;&#x8BE5;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53; rt</li>
<li>struct sched_dl_entity dl&#xFF1A;&#x5F53;&#x91C7;&#x7528; dl &#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x8C03;&#x5EA6;&#x8BE5;&#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;&#x8C03;&#x7528;&#x7684;&#x662F;&#x8BE5;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53; dl</li>
</ul>
<p>&#x2003;&#x2003;&#x81F3;&#x4E8E;stop&#x4E0E;idle&#xFF0C;&#x7531;&#x4E8E;CPU&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x4E2D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;stop&#x4E0E;idle&#x7C7B;&#x578B;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x6240;&#x4EE5;&#x8C03;&#x7528;&#x65F6;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x54CD;&#x5E94;&#x7684;&#x8FDB;&#x7A0B;&#x5373;&#x53EF;&#xFF0C;&#x56E0;&#x6B64;&#x65E0;&#x9700;&#x4E3A;&#x8FD9;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x8BBE;&#x8BA1;&#x4E13;&#x95E8;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x3002;<br>
&#x2003;&#x2003;&#x6B64;&#x5916;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x8BF4;&#x660E;&#x7684;&#x662F;&#xFF0C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E4B;&#x6240;&#x4EE5;&#x6709;3&#x4E2A;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#xFF0C;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x4E3A;&#x4E86;&#x5728;&#x8FDB;&#x7A0B;&#x5207;&#x6362;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x5730;&#x5C06;&#x5176;&#x5728;&#x539F;&#x5148;&#x8C03;&#x5EA6;&#x5668;&#x7684;&#x8C03;&#x5EA6;&#x4FE1;&#x606F;&#x8F6C;&#x5316;&#x4E3A;&#x5F53;&#x524D;&#x8C03;&#x5EA6;&#x5668;&#x4E2D;&#x7684;&#x8C03;&#x5EA6;&#x4FE1;&#x606F;&#x3002;<br>
&#x2003;&#x2003;&#x4F8B;&#x5982;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5728;SCHED_NORMAL&#x548C;SCHED_FIFO&#x4E4B;&#x95F4;&#x5207;&#x6362;&#x65F6;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x6709;&#x4E00;&#x4E2A;se&#xFF08;sched_entity&#xFF09;&#x548C;&#x4E00;&#x4E2A;rt&#xFF08;sched_rt_entity&#xFF09;&#x6765;&#x5206;&#x522B;&#x5B58;&#x50A8;&#x5B83;&#x5728;&#x5B8C;&#x5168;&#x516C;&#x5E73;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x548C;&#x5B9E;&#x65F6;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x865A;&#x62DF;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x3001;&#x4F18;&#x5148;&#x7EA7;&#x3001;&#x65F6;&#x95F4;&#x7247;&#x7B49;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x5F53;&#x8FDB;&#x7A0B;&#x5207;&#x6362;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x65F6;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x5730;&#x6062;&#x590D;&#x5B83;&#x5728;&#x539F;&#x6765;&#x7684;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x4E2D;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x8BA1;&#x7B97;&#x6216;&#x5206;&#x914D;&#x3002;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">10&#x3001;struct task_struct &#x603B;&#x7ED3; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#x2003;&#x2003;&#x5728; Chatper2 &#x90E8;&#x5206;&#xFF0C;&#x6211;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E86;&#x5173;&#x4E8E;struct task_struct &#x7ED3;&#x6784;&#x4F53;&#x53D8;&#x91CF;&#x529F;&#x80FD;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x5C06;&#x5176;&#x5212;&#x5206;&#x4E3A;8&#x4E2A;&#x90E8;&#x5206;</p>
<ul>
<li>&#x8FDB;&#x7A0B;&#x72B6;&#x6001;&#x3010;state &#x5173;&#x4E8E; 0 &#x8FDB;&#x884C;&#x5212;&#x5206;&#x6210;&#x4E09;&#x79CD;&#x57FA;&#x672C;&#x72B6;&#x6001;&#xFF0C;&#x975E;0&#x65F6;&#x53EF;&#x518D;&#x6839;&#x636E;flags &#x6216; &#x6570;&#x503C;&#x8FDB;&#x884C;&#x8FDB;&#x4E00;&#x6B65;&#x786E;&#x5B9A;&#x3011;</li>
<li>&#x8FDB;&#x7A0B;&#x4E0E;&#x5185;&#x6838;&#x6808;&#x3010;&#x8FDB;&#x7A0B;&#x901A;&#x8FC7; *stack &#x8BBF;&#x95EE;&#x5185;&#x6838;&#x6808;&#x3001;&#x5185;&#x6838;&#x6808;&#x901A;&#x8FC7;&#x4E0E;&#x5176;&#x540C;&#x5185;&#x5B58;&#x5757;&#x7684;thread_info&#x4E2D;&#x7684; *task &#x8FD4;&#x56DE;&#x8FDB;&#x7A0B;&#x3011;</li>
<li>&#x8FDB;&#x7A0B;&#x7684;&#x4EB2;&#x5C5E;&#x5173;&#x7CFB;&#x3010;&#x7236;&#x4EB2;&#x3001;&#x5B69;&#x5B50;&#x3001;&#x5144;&#x5F1F;&#x3001;&#x9886;&#x961F;&#x3011;</li>
<li>&#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x8BC6;&#x7B26;PID&#x3010;&#x521B;&#x5EFA;&#x8FDB;&#x7A0B;&#xFF1A;&#x65B0;&#x7684;pid&#x4E14;tgid=pid&#x3001;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#xFF1A;&#x65B0;&#x7684;pid&#x4E14;tgid=&#x521B;&#x5EFA;&#x5B83;&#x7684;&#x8FDB;&#x7A0B;&#x7684;tgid&#x3011;</li>
<li>&#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x8BB0;flags&#x3010;&#x8FDB;&#x7A0B;&#x7684;&#x5404;&#x79CD;&#x72B6;&#x6001;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x65E5;&#x5FD7;&#x3011;</li>
<li>&#x8FDB;&#x7A0B;&#x7684;ptrace&#x3010;Debug&#x76F8;&#x5173;&#x3011;</li>
<li>&#x8FDB;&#x7A0B;&#x7684;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x3010;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x3001;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#x3001;&#x7F3A;&#x9875;&#x4E2D;&#x65AD;&#x3011;</li>
<li>&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x3010;&#x4F18;&#x5148;&#x7EA7;&#x3001;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x3001;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x3011;</li>
</ul>
<p>&#x2003;&#x2003;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;struct task_struct &#x8981;&#x6BD4;&#x6211;&#x6240;&#x5217;&#x51FA;&#x7684;&#x8FD9;8&#x4E2A;&#x90E8;&#x5206;&#x590D;&#x6742;&#x7684;&#x591A;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x4E0D;&#x505A;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x8D58;&#x8FF0;&#x4E86;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4EE5;&#x4E0B;&#x8D44;&#x6599;</p>
<p>&#x3010;&#x8D44;&#x6599;1&#x3011;<a href="https://blog.csdn.net/Quinn0918/article/details/70148159">https://blog.csdn.net/Quinn0918/article/details/70148159</a></p>
<p>&#x3010;&#x8D44;&#x6599;2&#x3011;<a href="https://blog.csdn.net/m0_74282605/article/details/130034516">https://blog.csdn.net/m0_74282605/article/details/130034516</a></p>
<p>&#x3010;&#x8D44;&#x6599;3&#x3011;<a href="http://husharp.today/2020/12/06/task-struct-01/">http://husharp.today/2020/12/06/task-struct-01/</a></p>
<div><center>
<img src="&#x7F51;&#x56FE;1.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;2-25 &#x8D44;&#x6599;3&#x63D0;&#x4F9B;&#x7684;&#x56FE;&#x8868;  </font>
</strong>
</center></div>
</font>
<br>
<div style="page-break-after: always;"></div>
<br>
<center><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="5"> Chapter3 &#x8FDB;&#x7A0B;&#x8C03;&#x5EA6; </font></center>
<br>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">1&#x3001;&#x8FDB;&#x7A0B;&#x7684;&#x8C03;&#x5EA6;&#x6D41;&#x7A0B; </font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">1.1 &#x518D;&#x6B21;&#x63D0;&#x53CA;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#x2003;&#x2003;&#x5728;Chatpter1&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x66FE;&#x63D0;&#x5230;&#x8FC7;&#xFF1A;&#x7531;&#x4E8E;&#x4E00;&#x4E2A;CPU&#x540C;&#x65F6;&#x53EA;&#x80FD;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x800C;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x91CC;&#x9762;&#x5F80;&#x5F80;&#x6709;&#x5927;&#x91CF;&#x7684;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85;CPU&#x8D44;&#x6E90;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x8BBE;&#x8BA1;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x52A8;&#x6001;&#x5730;&#x4ECE;&#x4F17;&#x591A;&#x7684;&#x5C31;&#x7EEA;&#x8FDB;&#x7A0B;&#x4E2D;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6700;&#x5408;&#x9002;&#x7684;&#x8FDB;&#x7A0B;&#x6765;&#x5360;&#x7528;CPU&#x8D44;&#x6E90;&#x3002;<br>
&#x2003;&#x2003;&#x53EF;&#x80FD;&#x73B0;&#x5728;&#x4F60;&#x8FD8;&#x5728;&#x56E0;&#x4E3A; struct task_struct &#x7684;&#x5E9E;&#x6742;&#x800C;&#x56F0;&#x60D1;&#xFF0C;&#x4F46;&#x8BF7;&#x628A; Chapter2 &#x4E2D;&#x7684;&#x4E00;&#x5207;&#x90FD;&#x5148;&#x653E;&#x5728;&#x4E00;&#x904D;(&#x53EA;&#x8981;&#x660E;&#x767D;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x4EE3;&#x8868;&#x8FDB;&#x7A0B;&#x7684;&#x7ED3;&#x6784;&#x4F53;&#x5C31;&#x597D;&#x4E86;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x5148;&#x4E0D;&#x53BB;&#x7BA1;&#x5B83;)&#xFF0C;&#x4F60;&#x73B0;&#x5728;&#x9700;&#x8981;&#x5173;&#x6CE8;&#x7684;&#x662F;&#x4E0A;&#x4E00;&#x6BB5;&#x4E2D;&#x7684;&#x8FD9;&#x51E0;&#x4E2A;&#x5173;&#x952E;&#x5B57;&#xFF1A;&quot;CPU&quot;&#x3001;&quot;&#x5C31;&#x7EEA;&#x961F;&#x5217;&quot;&#x3001;&quot;&#x8FDB;&#x7A0B;&quot;&#x3001;&quot;&#x8C03;&#x5EA6;&quot;&#x3002;<br>
&#x2003;&#x2003;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x8FD9;&#x51E0;&#x4E2A;&#x5173;&#x952E;&#x5B57;&#x5C31;&#x6784;&#x6210;&#x4E86;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7684;&#x57FA;&#x672C;&#x6982;&#x5FF5;&#x3002;&#x5B83;&#x4EEC;&#x5206;&#x522B;&#x5BF9;&#x5E94;&#x7740;&#x4EE5;&#x4E0B;&#x7684;&#x7ED3;&#x6784;&#x4F53;&#x6216;&#x51FD;&#x6570;&#xFF1A;<br>
&#x2003;&#x2003;&quot; &#x961F;&#x5217; &quot; &#x2014;&#x2014; struct rq<br>
&#x2003;&#x2003;&quot; &#x8FDB;&#x7A0B; &quot; &#x2014;&#x2014; struct task_struct<br>
&#x2003;&#x2003;&quot; &#x8C03;&#x5EA6; &quot; &#x2014;&#x2014; schedule</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">1.2 &#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7684;&#x6D41;&#x7A0B; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#x2003;&#x2003;&#x5F88;&#x591A;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x5F80;&#x5F80;&#x56E0;&#x4E3A;&#x8FC7;&#x5EA6;&#x5730;&#x5728;&#x610F;&#x4E00;&#x4E9B;&#x7EC6;&#x8282;&#x800C;&#x4F7F;&#x81EA;&#x5DF1;&#x9677;&#x5165;&#x56F0;&#x6270;&#xFF0C;&#x6BD4;&#x5982;&#x4F60;&#x53BB;linux&#x5185;&#x6838;&#x91CC;&#x67E5;&#x770B;&#x6709;&#x5173;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7684;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x521A;&#x5F00;&#x59CB;&#x5C31;&#x60F3;&#x8BA9;&#x81EA;&#x5DF1;&#x7406;&#x6E05;&#x695A;&#x90A3;&#x51E0;&#x4E07;&#x884C;&#x4EE3;&#x7801;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x5B8C;&#x5168;&#x4E0D;&#x73B0;&#x5B9E;&#x7684;&#xFF0C;&#x53CD;&#x800C;&#x4F1A;&#x4F7F;&#x81EA;&#x5DF1;&#x7684;&#x5927;&#x8111;&#x4E00;&#x56E2;&#x7CDF;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x7528;&#x628A;&#x8FDB;&#x7A0B;&#x7684;&#x8C03;&#x5EA6;&#x60F3;&#x5F97;&#x6709;&#x591A;&#x590D;&#x6742;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5148;&#x6293;&#x4F4F;&#x4E3B;&#x5E72;&#x518D;&#x53BB;&#x5EF6;&#x4F38;&#x5230;&#x5206;&#x652F;&#x4FBF;&#x53EF;&#x3002;&#x4ECE;&#x6574;&#x4F53;&#x5206;&#x6790;&#x8FDB;&#x7A0B;&#x7684;&#x8C03;&#x5EA6;&#xFF0C;&#x5176;&#x6D41;&#x7A0B;&#x5C06;&#x4F1A;&#x5F88;&#x7B80;&#x5355;&#xFF1A;<br>
&#x2003;&#xFF08;1&#xFF09;&#x5F53;&#x524D;CPU&#x5185;&#x6709;&#x4E00;&#x4E2A;&#x6B63;&#x5728;&#x4F7F;&#x7528;CPU&#x8D44;&#x6E90;&#x7684;&#x8FDB;&#x7A0B;&#xFF08;&#x8BB0;&#x4E3A;current&#xFF09;&#x4EE5;&#x53CA;&#x4E00;&#x4E2A;&#x7B49;&#x5F85;&#x4F7F;&#x7528;CPU&#x8D44;&#x6E90;&#x7684;&#x4E00;&#x4E9B;&#x8FDB;&#x7A0B;&#x7EC4;&#x6210;&#x7684; &quot;&#x5C31;&#x7EEA;&#x961F;&#x5217;&quot;&#x3002;<br>
&#x2003;&#xFF08;2&#xFF09;&#x786C;&#x4EF6;&#x7535;&#x8DEF;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x786C;&#x4EF6;&#x5B9A;&#x65F6;&#x5668;&#xFF0C;&#x5B83;&#x8D1F;&#x8D23;&#x5468;&#x671F;&#x6027;&#x7684;&#x4EA7;&#x751F;&#x65F6;&#x949F;&#x4E2D;&#x65AD;&#xFF08;&#x4E00;&#x822C;&#x4E3A;10ms&#xFF09;&#xFF0C;&#x6211;&#x4EEC;&#x79F0;&#x5B83;&#x4E3A;&#x6EF4;&#x7B54;&#x5B9A;&#x65F6;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#xFF0C;&#x5B83;&#x5C31;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x5FC3;&#x810F;&#x3002;&#x6BCF;&#x5F53;&#x4EA7;&#x751F;&#x5B9A;&#x65F6;&#x5668;&#x4E2D;&#x65AD;&#x7684;&#x65F6;&#x5019;&#xFF0C;CPU&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x4E2D;&#x65AD;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x3002;<br>
&#x2003;&#xFF08;3&#xFF09;&#x5728;&#x6EF4;&#x7B54;&#x5B9A;&#x65F6;&#x5668;&#x7684;&#x4E2D;&#x65AD;&#x5904;&#x7406;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x901A;&#x8FC7; &quot;schedule&quot; &#x51FD;&#x6570;&#x6765;&#x5224;&#x65AD; current &#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x9700;&#x8981;&#x88AB;&#x62A2;&#x5360;&#xFF0C;&#x82E5;&#x88AB;&#x62A2;&#x5360;&#xFF0C; &quot;&#x5C31;&#x7EEA;&#x961F;&#x5217;&quot; &#x4E2D;&#x7684;&#x54EA;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5C06;&#x4F7F;&#x7528;CPU&#x8D44;&#x6E90;&#x3002;<br>
&#x2003;&#x2003;&#x4EE5;&#x4E0A;&#x5C31;&#x662F;&#x6700;&#x57FA;&#x672C;&#x7684;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7684;&#x6D41;&#x7A0B;&#x4E86;&#xFF0C;&#x8BF4;&#x767D;&#x4E86;&#x5C31;&#x662F;&#x5728;&#x6BCF;&#x6B21;&#x4E2D;&#x65AD;&#x65F6;&#x8C03;&#x7528; schedule &#x51FD;&#x6570;&#x3002;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">1.3 &#x4E00;&#x4E9B;&#x8865;&#x5145; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#x2003;&#x2003;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x4EBA;&#x4F1A;&#x4EA7;&#x751F;&#x8FD9;&#x6837;&#x7684;&#x7591;&#x95EE;&#xFF1A;&#x597D;&#x50CF;&#x4E0A;&#x9762;&#x6240;&#x8BB2;&#x7684;&#x53EA;&#x662F;&#x63D0;&#x53CA;&#x4E86;&#x5904;&#x4E8E;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x8FD9;&#x4E9B;&#x8FDB;&#x7A0B;&#x90FD;&#x5904;&#x4E8E;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x6216;&#x7B49;&#x5F85;&#x8FD0;&#x884C;&#x7684;&#x72B6;&#x6001;&#xFF08;&#x5373;state = 0&#xFF09;,&#x90A3;&#x4E48;&#x5176;&#x4ED6;&#x72B6;&#x6001;&#x7684;&#x8FDB;&#x7A0B;&#x5728;&#x54EA;&#x91CC;&#x5462;&#xFF1F;<br>
&#x2003;&#x2003;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5904;&#x5728;&#x963B;&#x585E;&#x72B6;&#x6001;&#x7684;&#x8FDB;&#x7A0B;&#x5E76;&#x4E0D;&#x5728;&#x8FD0;&#x884C;&#x961F;&#x5217;&#xFF08;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#xFF09;&#x4E2D;&#xFF0C;&#x800C;&#x662F;&#x5904;&#x4E8E;&#x4E00;&#x4E2A;&#x7B49;&#x5F85;&#x961F;&#x5217;&#x4E2D;&#x3002;&#x8FD9;&#x4E9B;&#x8FDB;&#x7A0B;&#x90FD;&#x5728;&#x7B49;&#x5F85;&#x67D0;&#x4E9B;&#x4E8B;&#x4EF6;&#x7684;&#x53D1;&#x751F;&#xFF0C;&#x4F8B;&#x5982;&#x7B49;&#x5F85;I/O&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x6216;&#x7B49;&#x5F85;&#x4FE1;&#x53F7;&#x91CF;&#x3002;&#x53EA;&#x6709;&#x5F53;&#x8FD9;&#x4E9B;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x5E76;&#x5B8C;&#x6210;&#x65F6;&#xFF0C;&#x5185;&#x6838;&#x4F1A;&#x5C06;&#x8FDB;&#x7A0B;&#x4ECE;&#x7B49;&#x5F85;&#x961F;&#x5217;&#x4E2D;&#x5524;&#x9192;&#x5E76;&#x5C06;&#x5176;&#x653E;&#x56DE;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x4E2D;&#x3002;<br>
&#x2003;&#x2003;&#x6CE8;&#xFF1A;&#x7B49;&#x5F85;&#x961F;&#x5217;&#x4F4D;&#x4E8E;&#x5185;&#x6838;&#x4E2D;&#x3002;&#x201C;&#x5185;&#x6838;&#x201D;&#x6307;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x63D0;&#x4F9B;&#x786C;&#x4EF6;&#x62BD;&#x8C61;&#x5C42;&#x3001;&#x78C1;&#x76D8;&#x53CA;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x63A7;&#x5236;&#x3001;&#x591A;&#x4EFB;&#x52A1;&#x7B49;&#x529F;&#x80FD;&#x7684;&#x7CFB;&#x7EDF;&#x8F6F;&#x4EF6;&#xFF0C;&#x5185;&#x6838;&#x5E38;&#x9A7B;&#x4E8E;&#x5185;&#x5B58;&#xFF0C;&#x8D1F;&#x8D23;&#x5904;&#x7406;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x6838;&#x5FC3;&#x4EFB;&#x52A1;&#xFF0C;&#x6BD4;&#x5982;I/O&#x3001;&#x8FDB;&#x7A0B;&#x7BA1;&#x7406;&#x3001;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x7B49;&#x3002;&#xFF08;&#x66F4;&#x591A;&#x5173;&#x4E8E;&#x5185;&#x6838;&#x65B9;&#x9762;&#x7684;&#x77E5;&#x8BC6;&#x8BF7;&#x81EA;&#x884C;&#x67E5;&#x9605;&#x76F8;&#x5173;&#x8D44;&#x6599;&#xFF09;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">2&#x3001;strcut rq </font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">2.1 &#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<div><center>
<img src="rq&#x601D;&#x7EF4;&#x5BFC;&#x56FE;.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;3-1 struct rq &#x91CD;&#x8981;&#x90E8;&#x5206;&#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">2.2 &#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="struct_rq1.png" width="70%" height="70%">
<br>
<img src="struct_rq2.png" width="70%" height="70%">
<br>
<img src="struct_rq3.png" width="70%" height="70%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;3-2 struct rq &#x91CD;&#x8981;&#x90E8;&#x5206;&#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">2.3 &#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#x2003;&#x2003;&#x6BCF;&#x4E2A;CPU&#x90FD;&#x4F1A;&#x6709;&#x5C5E;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;&#x961F;&#x5217;rq&#xFF0C;&#x8BE5;&#x961F;&#x5217;&#x5305;&#x542B;&#x4E86;&#x6240;&#x6709;&#x6B63;&#x5728;CPU&#x4E0A;&#x8FDB;&#x884C;&#x7684;&#x4EE5;&#x53CA;&#x7B49;&#x5F85;&#x8BE5;CPU&#x5206;&#x914D;&#x8D44;&#x6E90;&#x7684;&#x8FDB;&#x7A0B;&#x3002;&#x6839;&#x636E;&#x8FDB;&#x7A0B;&#x7684;&#x6027;&#x8D28;&#xFF08;&#x4F18;&#x5148;&#x7EA7;&#x7B49;&#xFF09;&#xFF0C;&#x53C8;&#x5C06;&#x8FD9;&#x4E9B;&#x8FDB;&#x7A0B;&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#x3002;&#x7ED3;&#x6784;&#x4F53;struct rq&#x4E2D;&#x5C31;&#x8BB0;&#x5F55;&#x4E86;&#x5206;&#x7EC4;&#x7684;&#x60C5;&#x51B5;&#x3002;<br>
&#x2003;&#x2003;dl&#x662F;deadline&#x8C03;&#x5EA6;&#x7C7B;&#x7684;&#x8FD0;&#x884C;&#x961F;&#x5217;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x5F88;&#x9AD8;&#xFF1B;rt &#x662F;&#x5B9E;&#x65F6;&#x8C03;&#x5EA6;&#x8FD0;&#x884C;&#x961F;&#x5217;&#xFF0C;&#x8BE5;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x8FDB;&#x7A0B;&#x90FD;&#x662F;&#x5B9E;&#x65F6;&#x8FDB;&#x7A0B;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x8F83;&#x9AD8; [0 - 99]&#xFF1B;cfs &#x662F;cfs&#x8C03;&#x5EA6;&#x8FD0;&#x884C;&#x961F;&#x5217;&#xFF0C;&#x8BE5;&#x961F;&#x5217;&#x7684;&#x8FDB;&#x7A0B;&#x90FD;&#x662F;&#x666E;&#x901A;&#x8FDB;&#x7A0B;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x8F83;&#x4F4E; [100 -139]&#x3002;<br>
&#x2003;&#x2003;*curr &#x662F;&#x6307;&#x5411;&#x5F53;&#x524D;&#x4F7F;&#x7528;CPU&#x8FDB;&#x7A0B;&#x7684;&#x6307;&#x9488;&#xFF0C; *idle&#x6307;&#x5411;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x7A7A;&#x95F2;&#x7684;idle&#x7EBF;&#x7A0B;&#xFF0C;Linux&#x7CFB;&#x7EDF;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x4F1A;&#x4E3A;&#x6BCF;&#x4E2A;cpu&#x521B;&#x5EFA;&#x4E00;&#x4E2A;idle&#x7EBF;&#x7A0B;&#xFF0C;&#x5F53;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4FBF;&#x8FD0;&#x884C;idle&#x7EBF;&#x7A0B;&#xFF1B; *stop&#x6307;&#x5411;&#x7684;&#x662F;stop&#x8C03;&#x5EA6;&#x7C7B;&#x7684;&#x8FDB;&#x7A0B;&#x3002;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">3&#x3001;schedule </font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">3.1 &#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="schedule.png" width="70%" height="70%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;3-3 schedule &#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">3.2 &#x4EE3;&#x7801;&#x5206;&#x6790; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#xFF08;1&#xFF09;struct task_struct *tsk = current; &#x2003;// &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6307;&#x5411;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x6307;&#x9488;tsk<br>
&#xFF08;2&#xFF09;sched_submit_work(tsk); &#x2003;// &#x5C06;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x653E;&#x5165;&#x8C03;&#x5EA6;&#x961F;&#x5217;<br>
&#xFF08;3&#xFF09;do { ... } while (need_resched()); &#x2003;// &#x5FAA;&#x73AF;&#x6267;&#x884C;&#x76F4;&#x5230;&#x4E0D;&#x9700;&#x8981;&#x8C03;&#x5EA6;<br>
&#xFF08;4&#xFF09;preempt_disable(); &#x2003;// &#x7981;&#x6B62;&#x62A2;&#x5360;<br>
&#xFF08;5&#xFF09;__schedule(false); &#x2003;// &#x9009;&#x62E9;&#x4E0B;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#xFF0C;schedule &#x51FD;&#x6570;&#x771F;&#x6B63;&#x7684;&#x6838;&#x5FC3;<br>
&#xFF08;6&#xFF09;sched_preempt_enable_no_resched(); &#x2003;// &#x5141;&#x8BB8;&#x62A2;&#x5360;&#x4F46;&#x4E0D;&#x8FDB;&#x884C;&#x8C03;&#x5EA6;<br>
&#xFF08;7&#xFF09;sched_update_worker(tsk)&#xFF1B; &#x2003;// &#x66F4;&#x65B0;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x8C03;&#x5EA6;&#x72B6;&#x6001;&#xFF0C;&#x5305;&#x62EC;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x3001;&#x4F18;&#x5148;&#x7EA7;&#x7B49;&#x4FE1;&#x606F;</p>
<p>&#x2003;&#x2003;schedule( ) &#x51FD;&#x6570;&#x53EA;&#x662F;&#x4E2A;&#x5916;&#x5C42;&#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x5B9E;&#x9645;&#x8C03;&#x7528;&#x7684;&#x8FD8;&#x662F; __schedule( ) &#x51FD;&#x6570;&#x3002; __schedule( ) &#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x8BE5;&#x53C2;&#x6570;&#x4E3A; bool &#x578B;&#xFF0C;false &#x8868;&#x793A;&#x975E;&#x62A2;&#x5360;&#xFF0C;&#x81EA;&#x613F;&#x8C03;&#x5EA6;&#xFF0C;&#x800C; true &#x5219;&#x76F8;&#x53CD;.<br>
&#x2003;&#x2003;&#x901A;&#x8FC7;&#x6E90;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x5728;&#x8C03;&#x7528;__schedule( )&#x524D;&#x662F;&#x9700;&#x8981;&#x5173;&#x95ED;&#x62A2;&#x5360;&#x7684;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5728;__schedule&#x4E2D;&#x4F1A;&#x53BB;&#x68C0;&#x67E5;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x62A2;&#x5360;&#x8BA1;&#x6570;(&#x4F4D;&#x4E8E;schedule_debug&#x51FD;&#x6570;)&#xFF0C;&#x786E;&#x4FDD;&#x6B64;&#x6B21;&#x8C03;&#x5EA6;&#x662F;&#x5728;&#x5173;&#x95ED;&#x62A2;&#x5360;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FDB;&#x884C;&#x7684;&#xFF0C;&#x4E14;&#x4E0D;&#x80FD;&#x662F;&#x5728;&#x4E2D;&#x65AD;&#x6216;&#x539F;&#x5B50;&#x4E0A;&#x4E0B;&#x6587;&#x53D1;&#x751F;&#x7684;&#x8C03;&#x7528;&#x3002;&#x81F3;&#x4E8E;&#x5173;&#x95ED;&#x4E2D;&#x65AD;&#xFF0C;&#x8BE5;&#x64CD;&#x4F5C;&#x5C06;&#x5728;__schedule&#x5185;&#x90E8;&#x5B8C;&#x6210;&#x3002;<br>
&#x2003;&#x2003;&#x5728;&#x8C03;&#x5EA6;&#x8FC7;&#x7A0B;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x5373; __schedule &#x8FD4;&#x56DE;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x6253;&#x5F00;&#x62A2;&#x5360;&#x3002;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">4&#x3001;__schedule </font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">4.1 &#x53D8;&#x91CF;&#x5B9A;&#x4E49;&#x4E0E;&#x524D;&#x671F;&#x51C6;&#x5907; </font></p>
<div><center>
<img src="__schedule&#x7B2C;&#x4E00;&#x90E8;&#x5206;.png" width="70%" height="70%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;3-4 &#x53D8;&#x91CF;&#x5B9A;&#x4E49;&#x4E0E;&#x524D;&#x671F;&#x51C6;&#x5907;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">4.2 &#x5F53;&#x524D;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x4E3B;&#x52A8;&#x53D1;&#x8D77;&#x8C03;&#x5EA6; </font></p>
<div><center>
<img src="__schedule&#x7B2C;&#x4E8C;&#x90E8;&#x5206;.png" width="70%" height="70%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;3-5 &#x5F53;&#x524D;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x4E3B;&#x52A8;&#x53D1;&#x8D77;&#x8C03;&#x5EA6;  </font>
</strong>
</center></div>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#x2003;&#x2003;preempt &#x7528;&#x4E8E;&#x5224;&#x65AD;&#x672C;&#x6B21;&#x8C03;&#x5EA6;&#x662F;&#x5426;&#x4E3A;&#x62A2;&#x5360;&#x8C03;&#x5EA6;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x751F;&#x4E86;&#x8C03;&#x5EA6;&#x62A2;&#x5360;&#xFF08;preempt =1&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#xFF0C;&#x4E0D;&#x53C2;&#x4E0E;&#x5224;&#x65AD;&#xFF0C;&#x76F4;&#x63A5;&#x8C03;&#x7528;pick_next_task&#x3002;&#x62A2;&#x5360;&#x8C03;&#x5EA6;&#x901A;&#x5E38;&#x90FD;&#x662F;&#x5904;&#x4E8E;&#x8FD0;&#x884C;&#x6001;&#x7684;&#x4EFB;&#x52A1;&#x53D1;&#x8D77;&#x7684;&#x62A2;&#x5360;&#x8C03;&#x5EA6;&#x3002;<br>
&#x2003;&#x2003;&#x5982;&#x679C;&#x672C;&#x6B21;&#x8C03;&#x5EA6;&#x4E0D;&#x662F;&#x62A2;&#x5360;&#x8C03;&#x5EA6;&#xFF08;preempt = 0&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;state&#x4E0D;&#x7B49;&#x4E8E; TASK_RUNNING &#xFF08;0&#xFF09;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4E0D;&#x662F;&#x8FD0;&#x884C;&#x6001;&#xFF0C;&#x5904;&#x4E8E;&#x5176;&#x4ED6;&#x72B6;&#x6001;&#xFF0C;&#x4EE3;&#x8868;&#x6B64;&#x6B21;&#x8C03;&#x5EA6;&#x662F;&#x8BE5;&#x8FDB;&#x7A0B;&#x4E3B;&#x52A8;&#x8BF7;&#x6C42;&#x8C03;&#x5EA6;&#xFF0C;&#x4E3B;&#x52A8;&#x8C03;&#x7528;&#x4E86;schedule&#x51FD;&#x6570;&#xFF0C;&#x6BD4;&#x5982;&#x8BE5;&#x8FDB;&#x7A0B;&#x8FDB;&#x5165;&#x4E86;&#x963B;&#x585E;&#x6001;&#x3002;<br>
&#x2003;&#x2003;&#x5982;&#x679C;&#x8BE5;&#x8FDB;&#x7A0B;&#x8FD8;&#x6709;&#x672A;&#x5904;&#x7406;&#x4FE1;&#x53F7;&#xFF0C;&#x90A3;&#x5C31;&#x9700;&#x8981;&#x5148;&#x5904;&#x7406;&#x4FE1;&#x53F7;&#x3002;&#x6B64;&#x65F6;&#x9700;&#x8981;&#x5C06;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x72B6;&#x6001;&#x8BBE;&#x7F6E;&#x56DE; TASK_RUNNING&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x4F1A;&#x91CD;&#x65B0;&#x53C2;&#x4E0E;&#x8C03;&#x5EA6;&#xFF0C;&#x6709;&#x5F88;&#x5927;&#x6982;&#x7387;&#x9009;&#x53D6;&#x5230;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4F9D;&#x65E7;&#x662F;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#xFF0C;&#x4ECE;&#x800C;&#x4E0D;&#x6267;&#x884C;&#x5B9E;&#x9645;&#x7684;&#x8FDB;&#x7A0B;&#x5207;&#x6362;&#x3002;<br>
&#x2003;&#x2003;&#x82E5;&#x8BE5;&#x8FDB;&#x7A0B;&#x6CA1;&#x6709;&#x672A;&#x5904;&#x7406;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x7531;&#x4E8E;&#x8FDB;&#x7A0B;&#x4E0D;&#x662F;&#x8FD0;&#x884C;&#x6001;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x80FD;&#x5728;CFS&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x4E2D;&#x4E86;&#xFF0C;&#x4E8E;&#x662F;&#x5C31;&#x8C03;&#x7528; deactivate_task &#x51FD;&#x6570;&#x5C06;&#x9677;&#x5165;&#x963B;&#x585E;&#x6001;&#x7684;&#x8FDB;&#x7A0B;&#x79FB;&#x9664;CFS&#x5C31;&#x7EEA;&#x961F;&#x5217;&#xFF0C;&#x5E76;&#x5C06;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684; on_rq &#x6210;&#x5458;&#x7F6E;0&#xFF0C;&#x8868;&#x793A;&#x4E0D;&#x5728;CFS&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x4E2D;&#x4E86;&#x3002;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">4.3  &#x9009;&#x62E9;&#x4E0B;&#x4E00;&#x4E2A;&#x5C06;&#x8981;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1;</font></p>
<div><center>
<img src="__schedule&#x7B2C;&#x4E09;&#x90E8;&#x5206;.png" width="70%" height="70%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;3-6 &#x9009;&#x62E9;&#x4E0B;&#x4E00;&#x4E2A;&#x5C06;&#x8981;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1;  </font>
</strong>
</center></div>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#x2003;&#x2003;&#x9009;&#x62E9;&#x4E0B;&#x4E00;&#x4E2A;&#x5C06;&#x8981;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1;&#x7684;&#x6838;&#x5FC3;&#x51FD;&#x6570;&#x662F;pick_next_task( )&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<div><center>
<img src="pick_next_task1.png" width="70%" height="70%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;3-7 pick_next_task &#x6E90;&#x4EE3;&#x7801;&#x7B2C;&#x4E00;&#x90E8;&#x5206;  </font>
</strong>
</center></div>
<p>&#x2003;&#x2003;linux &#x8BA4;&#x4E3A;&#xFF1A;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x5C5E;&#x4E8E; cfs &#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x6216; idle &#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x662F;&#x5927;&#x6982;&#x7387;&#x4E8B;&#x4EF6;&#x3002;&#x56E0;&#x6B64;&#xFF0C;pick_next_task &#x9996;&#x5148;&#x5148;&#x8FDB;&#x884C;&#x5224;&#x5B9A;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x5C5E;&#x4E8E; cfs &#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x6216; idle &#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x3002;<br>
&#x2003;&#x2003;&#x82E5;&#x5426;&#xFF0C;&#x8BF4;&#x660E;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x5C5E;&#x4E8E;&#x66F4;&#x9AD8;&#x7EA7;&#x522B;&#x7684;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#xFF0C;&#x56E0;&#x6B64;&#x76F4;&#x63A5;&#x8C03;&#x8FC7;&#x8BE5;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#xFF1B;&#x82E5;&#x662F;&#xFF0C;&#x5219;&#x8FDB;&#x800C;&#x5224;&#x65AD;&#x6B64;&#x65F6;CPU&#x8FD0;&#x884C;&#x961F;&#x5217;&#x4E2D;&#x662F;&#x5426;&#x53EA;&#x5B58;&#x5728;&#x5C5E;&#x4E8E;cfs&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x7684;&#x8FDB;&#x7A0B;&#xFF08; nr_running = &#x6240;&#x6709;&#x8FDB;&#x7A0B;&#x6570;&#x91CF;&#xFF1B;cfs.h_nr_running = cfs&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x7684;&#x6240;&#x6709;&#x8FDB;&#x7A0B;&#x6570;&#x91CF;&#xFF0C;&#x82E5;&#x53EA;&#x5B58;&#x5728;&#x5C5E;&#x4E8E;cfs&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x5219; nr_running = cfs.h_nr_running &#xFF09;&#x3002;<br>
&#x2003;&#x2003;&#x82E5;&#x5426;&#xFF0C;&#x8BF4;&#x660E;&#x961F;&#x5217;&#x4E2D;&#x5B58;&#x5728;&#x6BD4;&#x666E;&#x901A;&#x8FDB;&#x7A0B;&#x66F4;&#x9AD8;&#x7EA7;&#x522B;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x6BD4;&#x5982;&#x5B9E;&#x65F6;&#x8FDB;&#x7A0B;&#xFF0C;&#x6B64;&#x65F6;&#x540C;&#x6837;&#x76F4;&#x63A5;&#x8C03;&#x8FC7;&#x8BE5;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#xFF1B;&#x82E5;&#x662F;&#xFF0C;&#x5219;&#x8BF4;&#x660E;&#x4E0B;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5927;&#x6982;&#x7387;&#x5C5E;&#x4E8E;cfs&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#xFF08;&#x53EA;&#x6709;&#x5F53;cfs.h_nr_running = 0&#x65F6;&#x624D;&#x4F1A;&#x8FDB;&#x884C;&#x7A7A;&#x95F2;&#x8FDB;&#x7A0B;&#xFF09;&#x3002;<br>
&#x2003;&#x2003;&#x6EE1;&#x8DB3;&#x4E86;&#x4E0A;&#x8FF0;&#x7684;&#x4E24;&#x4E2A;&#x6761;&#x4EF6;&#x540E;&#xFF0C;&#x9009;&#x62E9;&#x4E0B;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x65B9;&#x5F0F;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8C03;&#x7528; cfs &#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x7684;&#x5B50;&#x51FD;&#x6570; fair_sched_class.pick_next_task( )&#x3002;&#x8BE5;&#x51FD;&#x6570;&#x5C06;&#x5728; Chapter4 &#x4E2D;&#x8FDB;&#x884C;&#x8BE6;&#x7EC6;&#x8BA8;&#x8BBA;<br>
&#x2003;&#x2003;&#x5047;&#x5982; fair_sched_class.pick_next_task( ) &#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x4E3A; RETRY_TASK&#xFF0C;&#x5C06;&#x6307;&#x793A;&#x8C03;&#x7528;&#x8005;&#x4ECE;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x8C03;&#x5EA6;&#x7C7B;&#x91CC;&#x9762;&#x9009;&#x53D6;&#x76EE;&#x6807;&#x8FDB;&#x7A0B;&#xFF08;&#x8BE5;&#x90E8;&#x5206;&#x5728;again&#x540E;&#x9762;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;goto  again &#x76F4;&#x63A5;&#x8DF3;&#x5230; again &#x540E;&#x9762;&#xFF09;&#xFF0C;&#x82E5;&#x8FD4;&#x56DE; NULL&#xFF0C;&#x5C06;&#x6307;&#x793A;&#x8C03;&#x7528;&#x8005;&#x4ECE;&#x4F4E;&#x4F18;&#x5148;&#x7EA7;&#x8C03;&#x5EA6;&#x7C7B;&#xFF08;&#x5373;idle&#xFF09;&#x91CC;&#x9762;&#x83B7;&#x53D6;&#x76EE;&#x6807;&#x8FDB;&#x7A0B;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528; idle &#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x7684;&#x5B50;&#x51FD;&#x6570; idle_sched_class.pick_next_task( )&#x9009;&#x62E9;&#x4E0B;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x3002;</p>
<div><center>
<img src="pick_next_task2.png" width="70%" height="70%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;3-8 pick_next_task &#x6E90;&#x4EE3;&#x7801;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;  </font>
</strong>
</center></div>
<p>&#x2003;&#x2003;&#x5982;&#x679C;&#x786E;&#x5B9A;&#x4E0B;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E0D;&#x5728; cfs_rq &#x4E2D;&#x9009;&#xFF0C;&#x90A3;&#x5C31;&#x9700;&#x8981;&#x4F9D;&#x636E;&#x4F18;&#x5148;&#x7EA7;&#xFF08;stop -&gt; deadline -&gt; realtime -&gt; cfs_rq -&gt; idle&#xFF09;&#x5BF9;&#x6240;&#x6709;&#x7684;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#x8FDB;&#x884C;&#x904D;&#x5386;&#xFF0C;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E4B;&#x540E;&#x5C31;&#x8FD4;&#x56DE;&#x8BE5;&#x8FDB;&#x7A0B;&#x3002;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">4.4  &#x6267;&#x884C;&#x8FDB;&#x7A0B;&#x5207;&#x6362;&#x4E0E;&#x6536;&#x5C3E;&#x5DE5;&#x4F5C; </font></p>
<div><center>
<img src="__schedule&#x7B2C;&#x56DB;&#x90E8;&#x5206;.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;3-9 &#x6267;&#x884C;&#x8FDB;&#x7A0B;&#x5207;&#x6362;&#x4E0E;&#x6536;&#x5C3E;&#x5DE5;&#x4F5C;  </font>
</strong>
</center></div>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#x2003;&#x2003;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x662F;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x6B65;&#x9AA4;&#x3002;&#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x901A;&#x8FC7;&#x7B2C;&#x4E09;&#x90E8;&#x5206;&#x83B7;&#x5F97;&#x4E86;&#x4E0B;&#x4E00;&#x8FDB;&#x7A0B;&#xFF0C;&#x82E5;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x4E0E;&#x4E0B;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E0D;&#x76F8;&#x540C;&#xFF0C;&#x5C31;&#x4F1A;&#x589E;&#x52A0; nr_switches&#x8BA1;&#x6570;&#x5668; &#xFF08;&#x4E0A;&#x4E0B;&#x6587;&#x4EA4;&#x6362;&#x6B21;&#x6570;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x8C03;&#x7528;context_switch( )&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#x3002;&#x5426;&#x5219;&#xFF0C;&#x5C31;&#x4F1A;&#x66F4;&#x65B0;clock_update_flags&#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x5E76;&#x91CA;&#x653E;&#x9501;&#x3002;<br>
&#x2003;&#x2003;&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x8BE5;&#x6B65;&#x9AA4;&#x4E2D;&#x6700;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x5C31;&#x662F; context_switch( )&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF0C;&#x672C;&#x6587;&#x4E0D;&#x5BF9;&#x8BE5;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x8FDB;&#x4E00;&#x6B65;&#x89E3;&#x91CA;&#xFF0C;&#x6709;&#x4E86;&#x89E3;&#x9700;&#x8981;&#x7684;&#x8BF7;&#x81EA;&#x884C;&#x67E5;&#x9605;&#x76F8;&#x5173;&#x8D44;&#x6599;&#x3002;</p>
<div><center>
<img src="context_switch.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;3-10 context_switch &#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">5&#x3001;Chapter3 &#x603B;&#x7ED3; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#x2003;&#x2003;Chapter3 &#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E86;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7684;&#x5927;&#x4F53;&#x6D41;&#x7A0B;&#xFF0C;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x4E86;&#x4E0E;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x76F4;&#x63A5;&#x76F8;&#x5173;&#x7684;&#x8FD0;&#x884C;&#x961F;&#x5217;&#xFF08;rq&#xFF09;&#x4EE5;&#x53CA;&#x8C03;&#x5EA6;&#x51FD;&#x6570;&#xFF08;schedule&#x4EE5;&#x53CA;__schedule&#xFF09;&#x3002;<br>
&#x2003;&#x2003;&#x76F8;&#x4FE1;&#x9605;&#x8BFB;&#x5230;&#x8FD9;&#x91CC;&#x7684;&#x4F60;&#x5DF2;&#x7ECF;&#x5BF9;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#x57FA;&#x672C;&#x6982;&#x5FF5;&#xFF0C;&#x660E;&#x767D;&#x4E86;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x5728;&#x6BCF;&#x4E2A;&#x6EF4;&#x7B54;&#x5B9A;&#x65F6;&#x5668;&#x4E2D;&#x65AD;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x8C03;&#x5EA6;&#x51FD;&#x6570;&#x5728;&#x8FD0;&#x884C;&#x961F;&#x5217;&#x4E2D;&#x5BFB;&#x627E;&#x4E0B;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;CPU&#x8D44;&#x6E90;&#x7684;&#x8FDB;&#x7A0B;&#x5E76;&#x6267;&#x884C;&#x8FDB;&#x7A0B;&#x5207;&#x6362;&#x3002;&#x5728;&#x4E0B;&#x4E00;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x5C06;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x8FD0;&#x884C;&#x961F;&#x5217;&#x4E2D;&#x7684;cfs&#x961F;&#x5217;&#x4EE5;&#x53CA;&#x4E0E;&#x8C03;&#x5EA6;&#x76F8;&#x5173;&#x7684;&#x8C03;&#x5EA6;&#x5668;&#x548C;&#x5176;&#x4E2D;&#x7684;cfs&#x8C03;&#x5EA6;&#x5668;&#x3002;</p>
</font>
<div style="page-break-after: always;"></div>
<br>
<center><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="5">Chapter4 CFS&#xFF08;&#x5B8C;&#x5168;&#x516C;&#x5E73;&#x8C03;&#x5EA6;&#xFF09;&#x4ECB;&#x7ECD; </font></center>
<br>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">1&#x3001;&#x4EC0;&#x4E48;&#x662F;CFS </font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">1.1&#x3001;CFS&#x57FA;&#x672C;&#x539F;&#x7406;&#x6982;&#x8FF0; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<p>&#x2003;&#x2003;&#x91C7;&#x7528;cfs&#x7B56;&#x7565;&#x7684;&#x8FDB;&#x7A0B;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x90FD;&#x4F1A;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x65F6;&#x949F; &#x2014;&#x2014; virtual runtime(vruntime)&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5F97;&#x4EE5;&#x6267;&#x884C;&#xFF0C;&#x968F;&#x7740;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x7684;&#x4E0D;&#x65AD;&#x589E;&#x957F;&#xFF0C;&#x5176;vruntime&#x4E5F;&#x5C06;&#x4E0D;&#x65AD;&#x589E;&#x5927;&#xFF0C;&#x6CA1;&#x6709;&#x5F97;&#x5230;&#x6267;&#x884C;&#x7684;&#x8FDB;&#x7A0B;vruntime&#x5C06;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#x3002;<br>
&#x2003;&#x2003;&#x800C;&#x8C03;&#x5EA6;&#x5668;&#x5C06;&#x4F1A;&#x9009;&#x62E9;&#x6700;&#x5C0F;&#x7684;vruntime&#x90A3;&#x4E2A;&#x8FDB;&#x7A0B;&#x6765;&#x6267;&#x884C;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x6240;&#x8C13;&#x7684;&#x201C;&#x5B8C;&#x5168;&#x516C;&#x5E73;&#x201D;&#x3002;&#x4E0D;&#x540C;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x8FDB;&#x7A0B;&#x5176;vruntime&#x589E;&#x957F;&#x901F;&#x5EA6;&#x4E0D;&#x540C;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x9AD8;&#x7684;&#x8FDB;&#x7A0B;vruntime&#x589E;&#x957F;&#x5F97;&#x6162;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x53EF;&#x80FD;&#x5F97;&#x5230;&#x66F4;&#x591A;&#x7684;&#x8FD0;&#x884C;&#x673A;&#x4F1A;&#x3002;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">1.2&#x3001;CFS&#x76F8;&#x5173;&#x6982;&#x5FF5;</font></p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<ul>
<li>schedule&#xFF1A;&#x603B;&#x7684;&#x8C03;&#x5EA6;&#x51FD;&#x6570;</li>
<li>__schedule&#xFF1A;&#x8C03;&#x5EA6;&#x51FD;&#x6570;&#x4E2D;&#x7684;&#x6838;&#x5FC3;&#x90E8;&#x5206;&#xFF0C;&#x4E5F;&#x662F;&#x771F;&#x6B63;&#x7684;&#x8C03;&#x5EA6;&#x51FD;&#x6570;</li>
<li>sched_class&#xFF1A;&#x603B;&#x7684;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;&#xFF0C;fair_sched_class&#x662F;&#x5B83;&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5316;</li>
<li>fair_sched_class&#xFF1A;&#x91C7;&#x7528;CFS&#x7B97;&#x6CD5;&#xFF08;&#x7B56;&#x7565;&#xFF09;&#x7684;&#x8C03;&#x5EA6;&#x5668;&#x7C7B;</li>
<li>struct rq&#xFF1A;CPU&#x8FD0;&#x884C;&#xFF08;&#x5C31;&#x7EEA;&#xFF09;&#x961F;&#x5217;&#xFF0C;&#x6BCF;&#x4E2A;rq&#x961F;&#x5217;&#x90FD;&#x5305;&#x542B;&#x4E00;&#x4E2A;cfs_rq</li>
<li>struct cfs_rq&#xFF1A;&#x91C7;&#x7528;CFS&#x7B97;&#x6CD5;&#xFF08;&#x7B56;&#x7565;&#xFF09;&#x7684;&#x8FD0;&#x884C;&#x961F;&#x5217;&#xFF0C;&#x91CC;&#x9762;&#x6240;&#x6709;&#x7684;&#x8FDB;&#x7A0B;&#x90FD;&#x662F;&#x666E;&#x901A;&#x8FDB;&#x7A0B;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x5747;&#x5728;[100 - 139]</li>
<li>struct task_struct&#xFF1A;&#x8FDB;&#x7A0B;&#x5BF9;&#x5E94;&#x7684;&#x7ED3;&#x6784;&#x4F53;</li>
<li>struct sched_entity&#xFF1A;&#x8FDB;&#x7A0B;&#x4E2D;&#x5BF9;&#x5E94;&#x4E8E;CFS&#x7B97;&#x6CD5;&#xFF08;&#x7B56;&#x7565;&#xFF09;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#xFF0C;&#x4FDD;&#x5B58;&#x4E86;&#x8FDB;&#x7A0B;&#x5728;&#x88AB;CFS&#x8C03;&#x5EA6;&#x5668;&#x8C03;&#x5EA6;&#x65F6;&#x7684;&#x8C03;&#x5EA6;&#x4FE1;&#x606F;</li>
</ul>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">1.3&#x3001;CFS&#x7B97;&#x6CD5;&#x8BBE;&#x8BA1;&#x6838;&#x5FC3; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<p>&#x2003;&#x2003;cfs&#x8C03;&#x5EA6;&#x5668;&#x6BCF;&#x6B21;&#x90FD;&#x4F1A;&#x9009;&#x62E9;&#x6700;&#x5C0F;&#x7684;vruntime&#x90A3;&#x4E2A;&#x8FDB;&#x7A0B;&#x4F5C;&#x4E3A;&#x4E0B;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;CPU&#x8D44;&#x6E90;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x90A3;&#x4E48;vruntime&#x8BE5;&#x5982;&#x4F55;&#x8BA1;&#x7B97;&#x5462;&#xFF1F;&#x53C8;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x4F18;&#x5148;&#x7EA7;&#x9AD8;&#x7684;&#x8FDB;&#x7A0B;vruntime&#x589E;&#x957F;&#x5F97;&#x6162;&#x5462;&#xFF1F;<br>
&#x2003;&#x2003;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;linux&#x91C7;&#x7528;&#x5982;&#x4E0B;&#x516C;&#x5F0F;&#x8BA1;&#x7B97; vruntime&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x5927;&#x610F;&#x5473;&#x7740;&#x6743;&#x91CD;&#x8D8A;&#x5927;&#xFF0C;&#x56E0;&#x6B64;&#x91C7;&#x7528;&#x5012;&#x6570;&#x7684;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4F18;&#x5148;&#x7EA7;&#x4F18;&#x5148;&#x7EA7;&#x9AD8;&#x7684;&#x8FDB;&#x7A0B; vruntime &#x589E;&#x957F;&#x5F97;&#x6162;&#x3002;</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>v</mi><mi>r</mi><mi>u</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mo>=</mo><mi>r</mi><mi>e</mi><mi>a</mi><mi>l</mi><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mo>&#x2217;</mo><mfrac><mrow><mi>N</mi><mi>I</mi><mi>C</mi><mi>E</mi><mi mathvariant="normal">_</mi><mn>0</mn><mi mathvariant="normal">_</mi><mi>L</mi><mi>O</mi><mi>A</mi><mi>D</mi></mrow><mrow><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">vruntime = realtime * \frac{NICE\_0\_LOAD}{weight}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">im</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">re</span><span class="mord mathnormal">a</span><span class="mord mathnormal">lt</span><span class="mord mathnormal">im</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">&#x2217;</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.2638em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3833em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.7em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.05764em;">CE</span><span class="mord" style="margin-right:0.02778em;">_0_</span><span class="mord mathnormal">L</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>&#x2003;&#x2003;&#x5176;&#x4E2D;&#xFF0C;realtime &#x8868;&#x793A;&#x7684;&#x662F;&#x771F;&#x5B9E;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#xFF0C;NICE_0_LOAD &#x8868;&#x793A;&#x7684;&#x662F; Nice &#x503C;&#x4E3A;0&#x5BF9;&#x5E94;&#x7684;&#x6743;&#x91CD;&#xFF0C;weight &#x8868;&#x793A;&#x7684;&#x662F;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x6743;&#x91CD;&#x3002;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">2&#x3001;struct cfs_rq </font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">2.1&#x3001;&#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<div><center>
<img src="cfs_rq.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;4-1 cfs_rq &#x601D;&#x7EF4;&#x5BFC;&#x56FE;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">2.2&#x3001;&#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="cfs_rq1.png" width="80%" height="80%">
<br>
<img src="cfs_rq2.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;3-10 cfs_rq &#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">2.3&#x3001;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<ul>
<li>load&#xFF1A;cfs_rq&#x4E0A;&#x6240;&#x6709;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684;&#x8D1F;&#x8F7D;&#x6743;&#x91CD;&#x4E4B;&#x548C;</li>
<li>runnable_weight&#xFF1A;cfs_rq&#x4E0A;&#x6240;&#x6709;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684;&#x8FD0;&#x884C;&#x6743;&#x91CD;&#x4E4B;&#x548C;<br>
&#x6CE8;1&#xFF1A;&#x5BF9;&#x5E94;&#x5355;&#x4E2A;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#xFF0C;task se &#x7684; load weight &#x548C; runnable weight &#x662F;&#x76F8;&#x7B49;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x8C03;&#x5EA6;&#x7EC4; group se &#x800C;&#x8A00;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x503C;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x3002;<br>
&#x6CE8;2&#xFF1A;runnable_weight&#x7684;&#x8BA1;&#x7B97;&#x6D89;&#x53CA;&#x5230;&#x4E86;&#x8C03;&#x5EA6;&#x7EC4;&#x7684;&#x6982;&#x5FF5;&#x4EE5;&#x53CA;PELT&#x7B97;&#x6CD5;&#xFF0C;&#x672C;&#x6587;&#x6682;&#x65F6;&#x4E0D;&#x4F5C;&#x8FDB;&#x4E00;&#x6B65;&#x8BF4;&#x660E;&#xFF0C;&#x6709;&#x9700;&#x8981;&#x7684;&#x8BF7;&#x53C2;&#x8003;&#x4E0B;&#x65B9;&#x94FE;&#x63A5;</li>
</ul>
<p>&#x53C2;&#x8003;&#xFF1A;<a href="https://blog.csdn.net/Rong_Toa/article/details/108598418">https://blog.csdn.net/Rong_Toa/article/details/108598418</a></p>
<ul>
<li>nr_running&#xFF1A;cfs_rq&#x4E2D;&#x7B2C;&#x4E00;&#x5C42;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7EA2;&#x9ED1;&#x6811;&#x4E2D;&#x7684;&#x8282;&#x70B9;&#x6570;&#x3002;&#x8FD9;&#x4E9B;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x53EF;&#x80FD;&#x662F;&#x8FDB;&#x7A0B;&#x6216;&#x8005;&#x8C03;&#x5EA6;&#x7EC4;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x5305;&#x62EC;&#x8C03;&#x5EA6;&#x7EC4;&#x5185;&#x7684;&#x5B50;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;</li>
<li>h_nr_running&#xFF1A;cfs_rq&#x4E2D;&#x6240;&#x6709;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7EA2;&#x9ED1;&#x6811;&#x4E2D;&#x7684;&#x8282;&#x70B9;&#x6570;&#x52A0;&#x4E0A;&#x6BCF;&#x4E2A;&#x8C03;&#x5EA6;&#x7EC4;&#x8282;&#x70B9;&#x5BF9;&#x5E94;&#x7684;&#x5B50;cfs_rq&#x4E2D;&#x7684;&#x8282;&#x70B9;&#x6570;&#x3002;</li>
</ul>
<p>&#x6CE8;1&#xFF1A;&#x5047;&#x5982; cf_rq &#x4E2D;&#x6709;1&#x4E2A;&#x8C03;&#x5EA6;&#x7EC4;A&#x548C;2&#x4E2A;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#xFF0C;&#x5176;&#x4E2D;&#x8C03;&#x5EA6;&#x7EC4;A&#x5305;&#x542B;&#x4E86;3&#x4E2A;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#xFF0C;&#x5219;nr_running = 3&#xFF0C;h_nr_running = 5<br>
&#x6CE8;2&#xFF1A;&#x53EF;&#x4EE5;&#x6839;&#x636E;nr_running &#x4E0E; h_nr_running &#x662F;&#x5426;&#x76F8;&#x7B49;&#x6765;&#x5224;&#x65AD; cfs_rq &#x4E2D;&#x662F;&#x5426;&#x6709;&#x8C03;&#x5EA6;&#x7EC4;<br>
&#x6CE8;3&#xFF1A;cfs_rq&#x4E2D;&#x7684;&#x8C03;&#x5EA6;&#x7EC4;&#x662F;&#x901A;&#x8FC7;task_group&#x7ED3;&#x6784;&#x8868;&#x793A;&#x7684;&#xFF0C;&#x8C03;&#x5EA6;&#x7EC4;&#x7684;&#x5B9E;&#x8D28;&#x662F;&#xFF1A;&#x8C03;&#x5EA6;&#x65F6;&#x5019;&#x4E0D;&#x518D;&#x4EE5;&#x8FDB;&#x7A0B;&#x4F5C;&#x4E3A;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#xFF0C;&#x800C;&#x662F;&#x4EE5;&#x8FDB;&#x7A0B;&#x7EC4;&#x4F5C;&#x4E3A;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x3002;&#x867D;&#x7136;task group&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x6765;&#x7ADE;&#x4E89;CPU&#x8D44;&#x6E90;&#xFF0C;&#x4F46;&#x662F;task group&#x662F;&#x4E00;&#x7EC4;task se&#x6216;&#x8005;group se (task group&#x53EF;&#x4EE5;&#x5D4C;&#x5957;)&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x5728;&#x4E00;&#x4E2A;CPU&#x4E0A;&#x8FDB;&#x884C;&#x8C03;&#x5EA6;&#xFF0C;&#x56E0;&#x6B64;task group&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x9645;&#x4E0A;&#x5728;&#x5404;&#x4E2A;CPU&#x4E0A;&#x90FD;&#x4F1A;&#x53D1;&#x751F;&#xFF0C;</p>
<ul>
<li>exec_clock&#xFF1A;CFS&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x7684;&#x603B;&#x8FD0;&#x884C;&#x65F6;&#x95F4;</li>
<li>min_vruntime&#xFF1A;CFS&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x7684;&#x7EA2;&#x9ED1;&#x6811;&#x4E2D;&#x6700;&#x5DE6;&#x8FB9;&#x8282;&#x70B9;&#x7684; vruntime</li>
<li>task_timeline&#xFF1A;&#x7EA2;&#x9ED1;&#x6811;&#xFF0C;&#x7528;&#x4E8E;&#x94FE;&#x63A5;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#xFF0C;&#x4EE5;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684;vruntime &#x4F5C;&#x4E3A;&#x5173;&#x952E;&#x5B57;&#x6392;&#x5E8F;</li>
<li>*curr&#xFF1A;&#x6307;&#x5411;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684;&#x6307;&#x9488;</li>
<li>*next&#xFF1A;&#x6307;&#x5411;&#x4E0B;&#x4E00;&#x4E2A;&#x8981;&#x8FD0;&#x884C;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684;&#x6307;&#x9488;</li>
<li>*last&#xFF1A;&#x6307;&#x5411;&#x4E0A;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x8FC7;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684;&#x6307;&#x9488;</li>
<li>*skip&#xFF1A;&#x6307;&#x5411;&#x8C03;&#x8FC7;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684;&#x6307;&#x9488;</li>
</ul>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">3&#x3001;struct sched_entity </font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">3.1&#x3001;&#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<div><center>
<img src="sched_entity&#x601D;&#x7EF4;&#x5BFC;&#x56FE;.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;4-3 struct sched_entity &#x601D;&#x7EF4;&#x5BFC;&#x56FE;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">3.2&#x3001;&#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="sched_entity.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;4-4 cfs_rq &#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">3.3&#x3001;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<ul>
<li>load&#xFF1A;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684;&#x8D1F;&#x8F7D;&#x6743;&#x91CD;</li>
<li>runnable_weight&#xFF1A;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684;&#x8FD0;&#x884C;&#x6743;&#x91CD;</li>
<li>run_node&#xFF1A;&#x7EA2;&#x9ED1;&#x6811;&#x7684;&#x6570;&#x636E;&#x8282;&#x70B9;&#xFF0C;&#x4F7F;&#x7528;&#x8BE5;rb_node&#x5C06;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x6302;&#x5230;&#x7EA2;&#x9ED1;&#x6811;&#x4E0A;&#x9762;&#xFF0C;&#x7EA2;&#x9ED1;&#x6811;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#xFF0C;&#x6309;&#x7167;vruntime&#x6392;&#x5E8F;&#x3002;</li>
<li>group_node&#xFF1A;&#x94FE;&#x8868;&#x8282;&#x70B9;&#xFF0C;&#x88AB;&#x94FE;&#x63A5;&#x5230;percpu&#x7684;rq-&gt;cfs_tasks&#x4E0A;&#xFF0C;&#x5728;&#x505A;CPU&#x4E4B;&#x95F4;&#x7684;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x4ECE;&#x8BE5;&#x94FE;&#x8868;&#x4E0A;&#x9009;&#x51FA;group_node&#x8282;&#x70B9;&#x4F5C;&#x4E3A;&#x8FC1;&#x79FB;&#x8FDB;&#x7A0B;&#xFF08;&#x8FDB;&#x4E00;&#x6B65;&#x4E86;&#x89E3;&#x8BF7;&#x67E5;&#x9605;2.3&#x4E2D;&#x7684;&#x94FE;&#x63A5;&#xFF09;</li>
<li>on_rq: &#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x4EE3;&#x8868;&#x5F53;&#x524D;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x662F;&#x5426;&#x5728;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x4E0A;</li>
<li>exec_start: &#x5F53;&#x524D;&#x5B9E;&#x4F53;&#x4E0A;&#x6B21;&#x88AB;&#x8C03;&#x5EA6;&#x6267;&#x884C;&#x7684;&#x65F6;&#x95F4;</li>
<li>sum_exec_runtime: &#x5F53;&#x524D;&#x5B9E;&#x4F53;&#x603B;&#x6267;&#x884C;&#x65F6;&#x95F4;</li>
<li>vruntime: &#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x7684;&#x865A;&#x62DF;&#x65F6;&#x95F4;</li>
<li>prev_sum_exec_runtime&#xFF1A;&#x622A;&#x6B62;&#x5230;&#x4E0A;&#x6B21;&#x7EDF;&#x8BA1;&#xFF0C;&#x8FDB;&#x7A0B;&#x6267;&#x884C;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x901A;&#x5E38;&#xFF0C;&#x901A;&#x8FC7;sum_exec_runtime - prev_sum_exec_runtime&#x6765;&#x7EDF;&#x8BA1;&#x8FDB;&#x7A0B;&#x672C;&#x6B21;&#x5728;CPU&#x4E0A;&#x6267;&#x884C;&#x4E86;&#x591A;&#x957F;&#x65F6;&#x95F4;&#xFF0C;&#x4EE5;&#x6267;&#x884C;&#x67D0;&#x4E9B;&#x65F6;&#x95F4;&#x76F8;&#x5173;&#x7684;&#x64CD;&#x4F5C;</li>
</ul>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">4&#x3001;struct sched_class </font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">4.1&#x3001;&#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<div><center>
<img src="sched_class.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;4-5 struct sched_entity &#x601D;&#x7EF4;&#x5BFC;&#x56FE;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">4.2&#x3001;&#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="sched_class2.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;4-6 struct sched_entity &#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">4.3&#x3001;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5">
<ul>
<li>const struct  sched_class *next: &#x6307;&#x5411;&#x4E0B;&#x4E00;&#x4E2A;&#x6BD4;&#x5176;&#x7B49;&#x7EA7;&#x4F4E;&#x7684;class&#x3002;&#x5176;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x4E3A;stop&#xFF0C;deadline&#xFF0C;real time&#xFF0C;fair&#xFF0C;idle&#x3002;</li>
<li>enqueue_task&#xFF1A;&#x5C06;&#x4E00;&#x4E2A;task&#x63D2;&#x5165;&#x5230;&#x76F8;&#x5E94;&#x7684;runqueue&#x91CC;&#x9762;</li>
<li>dequeue_task&#xFF1A;&#x5C06;&#x4E00;&#x4E2A;task&#x4ECE;runqueue&#x91CC;&#x9762;&#x5220;&#x9664;</li>
<li>yield_task&#xFF1A;&#x653E;&#x5F03;CPU&#x6267;&#x884C;&#x6743;&#x9650;&#xFF0C;&#x5C06;&#x4EFB;&#x52A1;&#x4ECE;&#x6267;&#x884C;&#x961F;&#x5217;&#x4E2D;&#x51FA;&#x961F;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x653E;&#x5165;&#x5230;&#x961F;&#x5217;&#x672B;&#x5C3E;&#x3002;</li>
<li>check_preempt_curr&#xFF1A;&#x7528;&#x4E8E;&#x68C0;&#x67E5;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x88AB;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;&#x62A2;&#x5360;</li>
<li>pick_next_task&#xFF1A;&#x9009;&#x62E9;&#x4E0B;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;</li>
<li>put_prev_task&#xFF1A;&#x5C06;&#x8FDB;&#x7A0B;&#x653E;&#x56DE;&#x5230;&#x8FD0;&#x884C;&#x961F;&#x5217;&#x5F53;&#x4E2D;</li>
</ul>
<p>&#x6CE8;&#xFF1A;sched_class&#x662F;Linux&#x5185;&#x6838;&#x4E3A;&#x4E0D;&#x540C;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x5B9A;&#x4E49;&#x7684;&#x8C03;&#x5EA6;&#x7C7B;&#xFF0C;&#x662F;&#x5BF9;&#x8C03;&#x5EA6;&#x5668;&#x516C;&#x5171;&#x90E8;&#x5206;&#x7684;&#x62BD;&#x8C61;&#x3002;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x6269;&#x5C55;&#x7684;&#x8C03;&#x5EA6;&#x6A21;&#x5757;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x4E0D;&#x540C;&#x7684;&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x3002;</p>
</font>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">5&#x3001;struct sched_class fair_sched_class </font></p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">5.1&#x3001;&#x5B9E;&#x4F8B;&#x5316;&#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="fair_sched_class.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;4-7 struct fair_sched_class &#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p>&#x2003;&#x2003;fair_sched_class &#x662F; sched_class&#x7C7B;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x6574;&#x4E2A;fair.c&#x6587;&#x4EF6;&#x90FD;&#x662F;&#x5173;&#x4E8E; fair_sched_class &#x7C7B;&#x7684;&#x51FD;&#x6570;&#x7684;&#x5B9A;&#x4E49;&#x3002;<br>
&#x2003;&#x2003;&#x5173;&#x4E8E; enqueue_task&#x3001;dequeue_task&#x3001;yield_task&#x3001;check_preempt_curr&#x3001;put_prev_task&#x8FD9;&#x4E94;&#x4E2A;&#x51FD;&#x6570;&#x4E0D;&#x4F5C;&#x8FDB;&#x4E00;&#x6B65;&#x4ECB;&#x7ECD;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x7167;&#x5176;&#x5B57;&#x9762;&#x610F;&#x601D;&#x6765;&#x7406;&#x89E3;&#x3002;<br>
&#x2003;&#x2003;&#x91CD;&#x70B9;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;pick_next_entity &#x51FD;&#x6570;&#xFF0C;&#x56E0;&#x4E3A;&#x8BE5;&#x51FD;&#x6570;&#x662F;&#x8C03;&#x5EA6;&#x51FD;&#x6570; schedule &#x7684;&#x91CD;&#x8981;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#x3002;<br>
&#x2003;&#x2003;pick_next_entity &#x88AB; pick_next_task_fair&#x51FD;&#x6570;&#x5C01;&#x88C5;</p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">5.2&#x3001;pick_next_task_fair&#x6E90;&#x4EE3;&#x7801; </font></p>
<div><center>
<img src="fair_pick1.png" width="80%" height="80%">
<br>
<img src="fair_pick2.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;4-8 pick_next_task_fair &#x6E90;&#x4EE3;&#x7801;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">5.3&#x3001;pick_next_task_fair&#x4EE3;&#x7801;&#x903B;&#x8F91; </font></p>
<p>&#x2003;&#xFF08;1&#xFF09;&#x5982;&#x679C;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x4E3A;&#x7A7A;&#xFF0C;&#x5C31;&#x8DF3;&#x8F6C;&#x5230;idle&#x6807;&#x7B7E;&#x3002;<br>
&#x2003;&#xFF08;2&#xFF09;&#x5426;&#x5219;&#xFF0C;&#x628A;&#x4E4B;&#x524D;&#x8FD0;&#x884C;&#x7684;&#x4EFB;&#x52A1;&#x653E;&#x56DE;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x3002;<br>
&#x2003;&#xFF08;3&#xFF09;&#x7136;&#x540E;&#xFF0C;&#x7528;&#x771F;&#x6B63;&#x7684;&#x9009;&#x62E9;&#x51FD;&#x6570; pick_next_entity&#xFF08;&#xFF09;&#x4ECE;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#x4E2D;&#x9009;&#x62E9;&#x6700;&#x4F18;&#x5148;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#xFF08;sched_entity&#xFF09;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x4E2A;&#x4EFB;&#x52A1;&#x6216;&#x8005;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x7EC4;&#x3002;<br>
&#x2003;&#xFF08;4&#xFF09;&#x5982;&#x679C;&#x9009;&#x62E9;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x662F;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x7EC4;&#xFF0C;&#x5C31;&#x9012;&#x5F52;&#x5730;&#x8FDB;&#x5165;&#x5B83;&#x5BF9;&#x5E94;&#x7684;&#x5B50;&#x5C31;&#x7EEA;&#x961F;&#x5217;&#xFF0C;&#x76F4;&#x5230;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x5355;&#x4E2A;&#x4EFB;&#x52A1;&#x3002;<br>
&#x2003;&#xFF08;5&#xFF09;&#x6700;&#x540E;&#xFF0C;&#x8FD4;&#x56DE;&#x627E;&#x5230;&#x7684;&#x4EFB;&#x52A1;&#x3002;</p>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="3">5.3&#x3001;pick_next_entity&#x6E90;&#x4EE3;&#x7801;&#x4EE5;&#x53CA;&#x6CE8;&#x89E3; </font></p>
<p>&#x2003;&#x2003;&#x53EA;&#x9700;&#x8981;&#x7406;&#x89E3;&#x7B2C;&#x4E00;&#x90E8;&#x5206;&#x5373;&#x53EF;&#xFF0C;&#x540E;&#x4E24;&#x90E8;&#x5206;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x3002;</p>
<div><center>
<img src="fair_pick_next1.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;4-9 pick_next_entity &#x6E90;&#x4EE3;&#x7801;&#xFF08;&#x4E00;&#xFF09;  </font>
</strong>
</center></div>
<div><center>
<img src="fair_pick_next2.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;4-10 pick_next_entity &#x6E90;&#x4EE3;&#x7801;&#xFF08;&#x4E8C;&#xFF09;  </font>
</strong>
</center></div>
<div><center>
<img src="fair_pick_next3.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;4-11 pick_next_entity &#x6E90;&#x4EE3;&#x7801;&#xFF08;&#x4E09;&#xFF09;  </font>
</strong>
</center></div>
<p><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="4">6&#x3001;Chapter4 &#x603B;&#x7ED3; &amp; &#x5B8C;&#x6574;&#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font></p>
<font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2.5"> 
<p>&#x2003;&#x2003;Chapter4&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E86;&#x4EC0;&#x4E48;&#x662F;&#x5B8C;&#x5168;&#x516C;&#x5E73;&#x8C03;&#x5EA6;&#x7B97;&#x6CD5;&#xFF08;&#x7B56;&#x7565;&#xFF09;&#x3002;CFS&#x7B97;&#x6CD5;&#x5F15;&#x5165;&#x4E86;&#x865A;&#x62DF;&#x65F6;&#x95F4;vruntime&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x6BCF;&#x6B21;&#x8C03;&#x5EA6;&#x90FD;&#x4F1A;&#x9009;&#x62E9;vruntime&#x503C;&#x6700;&#x5C0F;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x3002;CPU&#x5185;&#x91C7;&#x7528;CFS&#x8C03;&#x5EA6;&#x7B56;&#x7565;&#x7684;&#x8FDB;&#x7A0B;&#x90FD;&#x4F4D;&#x4E8E;&#x4E00;&#x4E2A;cfs_rq&#x7C7B;&#x578B;&#x7684;&#x961F;&#x5217;&#x4E2D;&#xFF0C;&#x8BE5;&#x961F;&#x5217;&#x91C7;&#x7528;&#x7EA2;&#x9ED1;&#x6811;&#x7684;&#x65B9;&#x5F0F;&#x4FDD;&#x5B58;&#x4E86;&#x6240;&#x6709;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#xFF0C;&#x5E76;&#x4EE5;vruntime&#x503C;&#x7684;&#x5927;&#x5C0F;&#x4E3A;&#x952E;&#x503C;&#x3002;&#x7EA2;&#x9ED1;&#x6811;&#x7684;&#x6700;&#x5DE6;&#x7AEF;&#x5C31;&#x662F;vruntime&#x6700;&#x5C0F;&#x503C;&#x5BF9;&#x5E94;&#x7684;&#x8C03;&#x5EA6;&#x5B9E;&#x4F53;&#x3002;&#x7EA2;&#x9ED1;&#x6811;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x4E00;&#x6B65;&#x4E86;&#x89E3;&#x7684;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4EE5;&#x4E0B;&#x94FE;&#x63A5;<br>
&#x2003;&#x2003;&#x53C2;&#x8003;1&#xFF1A;<a href="https://blog.csdn.net/xiaofeng10330111/article/details/106080394">https://blog.csdn.net/xiaofeng10330111/article/details/106080394</a><br>
&#x2003;&#x2003;&#x53C2;&#x8003;2&#xFF1A;<a href="https://blog.csdn.net/cy973071263/article/details/122543826">https://blog.csdn.net/cy973071263/article/details/122543826</a><br>
&#x2003;&#x2003;&#x73B0;&#x5728;&#xFF0C;&#x672C;&#x6587;&#x5DF2;&#x7ECF;&#x5C06;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7684;&#x6574;&#x4F53;&#x6D41;&#x7A0B;&#x5927;&#x4F53;&#x4E0A;&#x8BB2;&#x89E3;&#x5B8C;&#x6BD5;&#xFF0C;&#x4E3A;&#x4E86;&#x5E2E;&#x52A9;&#x7406;&#x89E3;&#xFF0C;&#x4EE5;&#x4E0B;&#x662F;&#x8FDB;&#x7A0B;&#x8C03;&#x5EA6;&#x7684;&#x5B8C;&#x6574;&#x601D;&#x7EF4;&#x5BFC;&#x56FE;&#xFF0C;&#x5E2E;&#x52A9;&#x5927;&#x5BB6;&#x7406;&#x89E3;&#x4ECE; Chapter1 &#x5230; Chapter4 &#x7684;&#x6240;&#x6709;&#x77E5;&#x8BC6;&#x70B9;&#x3002;</p>
<div><center>
<img src="&#x5B8C;&#x6574;&#x601D;&#x7EF4;&#x5BFC;&#x56FE;.png" width="90%" height="90%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;4-12 &#x5B8C;&#x6574;&#x601D;&#x7EF4;&#x5BFC;&#x56FE; </font>
</strong>
</center></div>
</font>
<div style="page-break-after: always;"></div>
<br>
<center><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="5">Chapter5 &#x9009;&#x505A;&#x90E8;&#x5206; </font></center>
<br>
<p>&#x2003;&#x2003;&#x4FEE;&#x6539;core.c&#x4E2D;&#x2014;__schedule()&#x51FD;&#x6570;&#xFF0C;&#x4FEE;&#x6539;&#x90E8;&#x5206;&#x7684;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;</p>
<div><center>
<img src="code.png" width="80%" height="80%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;5-1 &#x4FEE;&#x6539;&#x7684;&#x90E8;&#x5206; </font>
</strong>
</center></div>
<p>&#x2003;&#x2003;printk()&#x51FD;&#x6570;&#x7528;&#x4E8E;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x51FA;&#x8FDB;&#x7A0B;&#x5207;&#x6362;&#x524D;&#x540E;&#x7684;PID&#x503C;&#xFF0C;KERN_DEBUG&#x8868;&#x793A;&#x8BE5;printk&#x8BED;&#x53E5;&#x4F18;&#x5148;&#x7EA7;&#x6700;&#x4F4E;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x4F1A;&#x5728;&#x5F00;&#x673A;&#x65F6;&#x8FDB;&#x884C;&#x8F93;&#x51FA;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x4E5F;&#x4E0D;&#x4F1A;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x51FA;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165;dmesg | tail&#x65F6;&#x624D;&#x4F1A;&#x5448;&#x73B0;&#x3002;</p>
<p>&#x2003;&#x2003;printk()&#x51FD;&#x6570;&#x7528;&#x4E8E;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x51FA;&#x8FDB;&#x7A0B;&#x5207;&#x6362;&#x524D;&#x540E;&#x7684;PID&#x503C;&#xFF0C;KERN_DEBUG&#x8868;&#x793A;&#x8BE5;printk&#x8BED;&#x53E5;&#x4F18;&#x5148;&#x7EA7;&#x6700;&#x4F4E;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x4F1A;&#x5728;&#x5F00;&#x673A;&#x65F6;&#x8FDB;&#x884C;&#x8F93;&#x51FA;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x4E5F;&#x4E0D;&#x4F1A;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x51FA;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165;dmesg | tail&#x65F6;&#x624D;&#x4F1A;&#x5448;&#x73B0;&#x3002;</p>
<p>&#x2003;&#x2003;&#x5B9E;&#x9A8C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<div><center>
<img src="success.png" width="60%" height="60%">
<br>
<strong><font face="&#x534E;&#x6587;&#x6977;&#x4F53;" size="2">&#x56FE;5-2 &#x5B9E;&#x9A8C;&#x7ED3;&#x679C; </font>
</strong>
</center></div>
</font></font></strong>
      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>